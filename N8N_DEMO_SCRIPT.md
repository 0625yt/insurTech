# n8n 워크플로우 시연 대본

## 📋 발표 개요

이 대본은 n8n을 활용한 AI 보험 심사 워크플로우를 시연하기 위한 것입니다.

---

## 🎯 시연 전 준비사항

### 필요한 화면
1. **n8n 에디터** (http://localhost:5678)
2. **터미널** (curl 명령어 실행용)
3. **대시보드** (결과 확인용 - 옵션)

### n8n 실행 방법
```bash
# Docker로 실행
docker run -it --rm \
  -p 5678:5678 \
  -v ~/.n8n:/home/node/.n8n \
  n8nio/n8n

# 또는 npm으로 실행
npx n8n
```

### 워크플로우 임포트
1. n8n 에디터 열기
2. 좌측 메뉴 → Workflows → Import from File
3. `n8n/workflows/presentation_demo.json` 선택

---

## 🎤 시연 대본 (5분)

### [도입] ⏱️ 0:00~0:30

**[n8n 에디터 화면 보여주며]**

> 지금 보시는 화면이 n8n입니다.
>
> n8n은 워크플로우 자동화 도구인데요, 저희는 이걸 사용해서 AI 보험 심사 프로세스를 자동화했습니다.
>
> 실제로 어떻게 동작하는지 보여드리겠습니다.

---

### [워크플로우 구조 설명] ⏱️ 0:30~1:30

**[워크플로우 전체 화면 보여주며]**

> 이게 AI 보험 심사 워크플로우입니다.
>
> 총 5단계로 구성되어 있습니다.

**[각 노드 클릭하며 설명]**

> **1단계 - 청구 접수**
> 고객이 보험금을 청구하면 여기로 데이터가 들어옵니다.
> Webhook으로 받아서 처리합니다.
>
> **2단계 - 문서 OCR 분석**
> 진단서, 영수증 등 제출된 문서를 AI가 읽어서 텍스트로 변환합니다.
> 병원명, 진단명, 치료일자 등을 자동으로 추출합니다.
>
> **3단계 - AI 보장 분석**
> Claude AI가 약관을 분석해서 어떤 담보에 얼마가 지급되는지 계산합니다.
> 불인정 금액이 있으면 이유도 함께 알려줍니다.
>
> **4단계 - AI 사기 탐지**
> 머신러닝 모델이 이 청구가 의심스러운지 분석합니다.
> 청구 빈도, 금액, 병원 신뢰도 등 여러 요소를 봅니다.
>
> **5단계 - 최종 결과 종합**
> 모든 분석 결과를 합쳐서 최종 심사 결과를 만듭니다.

---

### [실제 실행 시연] ⏱️ 1:30~3:30

**[터미널 화면으로 전환]**

> 자, 이제 실제로 실행해보겠습니다.
>
> 고객이 보험금을 청구하는 상황을 시뮬레이션합니다.

**[터미널에서 curl 명령어 실행]**

```bash
curl -X POST http://localhost:5678/webhook/demo/claim-submit \
  -H "Content-Type: application/json" \
  -d '{
    "claimantName": "홍길동",
    "claimType": "입원의료비",
    "requestedAmount": 1500000,
    "hospitalName": "서울대학교병원",
    "diagnosis": "급성 요추 염좌"
  }'
```

> 청구 데이터를 보냈습니다.
> 청구자 홍길동, 입원의료비 150만원 청구입니다.

**[n8n 화면으로 전환, 실행 결과 확인]**

> n8n 화면을 보시면 워크플로우가 실행됐습니다.
>
> **(각 노드에 초록색 체크 표시되며)**
> 1단계 청구 접수 완료...
> 2단계 OCR 분석 완료...
> 3단계 보장 분석 완료...
> 4단계 사기 탐지 완료...
> 5단계 결과 종합 완료!
>
> 전체 처리 시간 2.5초입니다.

---

### [결과 분석] ⏱️ 3:30~4:30

**[최종 결과 노드 클릭해서 출력 확인]**

> 결과를 보겠습니다.
>
> **청구 금액**: 150만원
> **승인 금액**: 144만원
> **불인정 금액**: 6만원
>
> 승인율 96%입니다.

**[세부 내역 보여주며]**

> 왜 6만원이 불인정됐는지 보면...
>
> 비급여 항목 3만원, 1일 한도 초과 3만원입니다.
> AI가 약관을 분석해서 자동으로 계산한 겁니다.
>
> 그리고 사기 위험도는 23점으로 "낮음" 등급입니다.
> 자동 승인 가능하다고 나왔습니다.

---

### [핵심 포인트] ⏱️ 4:30~5:00

**[워크플로우 전체 화면으로 돌아와서]**

> 정리하면, 이 워크플로우의 핵심은:
>
> 첫째, **자동화**입니다.
> 사람이 일일이 서류 확인하고 계산할 필요 없이, AI가 자동으로 처리합니다.
>
> 둘째, **투명성**입니다.
> 왜 이 금액이 나왔는지 근거가 다 남습니다.
> 심사자가 검토할 때 바로 확인할 수 있습니다.
>
> 셋째, **속도**입니다.
> 기존에 수 시간 걸리던 심사가 2~3초 만에 끝납니다.
>
> 이게 AI를 활용한 업무 자동화의 실제 사례입니다.

---

## 📊 n8n 워크플로우 시각화

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│  1️⃣ 청구   │────▶│  2️⃣ OCR    │────▶│  3️⃣ 보장   │────▶│  4️⃣ 사기   │────▶│  5️⃣ 결과   │
│    접수     │     │    분석     │     │    분석     │     │    탐지     │     │    종합     │
│             │     │             │     │             │     │             │     │             │
│  Webhook    │     │  문서→텍스트│     │  Claude AI  │     │  ML 모델    │     │  JSON 응답  │
│  POST 요청  │     │  95% 정확도 │     │  금액 산출  │     │  위험도 23  │     │  144만원 승인│
└─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘
     0.1s               0.5s               1.2s               0.8s               0.1s

                              ───────────────── 총 2.5초 ─────────────────
```

---

## 🧪 테스트용 curl 명령어

### 기본 테스트
```bash
curl -X POST http://localhost:5678/webhook/demo/claim-submit \
  -H "Content-Type: application/json" \
  -d '{"claimantName": "홍길동", "amount": 1500000}'
```

### 상세 테스트
```bash
curl -X POST http://localhost:5678/webhook/demo/claim-submit \
  -H "Content-Type: application/json" \
  -d '{
    "claimantName": "김철수",
    "claimType": "수술비",
    "requestedAmount": 3000000,
    "hospitalName": "삼성서울병원",
    "diagnosis": "급성 충수염",
    "surgeryDate": "2024-01-10",
    "documents": ["진단서", "수술확인서", "영수증"]
  }'
```

---

## ❓ 예상 질문

### Q: "실제 AI API를 연동하면 시간이 더 걸리지 않나요?"

> 네, 실제 Claude나 GPT API를 호출하면 각각 1~3초 정도 걸립니다.
> 하지만 순차 처리가 아니라 병렬 처리하면 전체 시간을 줄일 수 있고,
> 무엇보다 사람이 수동으로 하는 것보다는 훨씬 빠릅니다.

### Q: "사기 탐지 정확도는 어느 정도인가요?"

> 현재 시뮬레이션 데이터 기준으로는 약 85% 정확도입니다.
> 실제 도입하려면 회사의 과거 청구 데이터로 모델을 학습시켜야 하고,
> 지속적으로 피드백을 받아서 개선해야 합니다.

### Q: "n8n은 유료인가요?"

> n8n은 오픈소스로 무료입니다. 셀프 호스팅하면 비용이 들지 않습니다.
> 클라우드 버전은 유료인데, 셀프 호스팅보다 관리가 편합니다.

---

## 📁 관련 파일

- 워크플로우: `n8n/workflows/presentation_demo.json`
- 발표 자료: `PRESENTATION.md`
- 시스템 개요: `SYSTEM_OVERVIEW.md`
