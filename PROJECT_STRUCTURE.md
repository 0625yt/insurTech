# í”„ë¡œì íŠ¸ íŒŒì¼ êµ¬ì¡°

```
insurTech/
â”‚
â”œâ”€â”€ ğŸ“‹ ë¬¸ì„œ íŒŒì¼
â”‚   â”œâ”€â”€ README.md                           # í”„ë¡œì íŠ¸ ë©”ì¸ README
â”‚   â”œâ”€â”€ SYSTEM_OVERVIEW.md                  # ì‹œìŠ¤í…œ ì „ì²´ ê°œìš” ë° Mock ë°ì´í„° ì„¤ëª…
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md                # ì´ íŒŒì¼ (í”„ë¡œì íŠ¸ êµ¬ì¡°)
â”‚   â””â”€â”€ API_DOCUMENTATION.md                # API ì‚¬ìš© ë¬¸ì„œ (ì›ë³¸)
â”‚
â”œâ”€â”€ ğŸ³ Docker ê´€ë ¨
â”‚   â”œâ”€â”€ docker-compose.yml                  # ì „ì²´ ì‹œìŠ¤í…œ Docker Compose ì„¤ì •
â”‚   â”œâ”€â”€ .env.example                        # í™˜ê²½ë³€ìˆ˜ ìƒ˜í”Œ
â”‚   â””â”€â”€ .gitignore                          # Git ë¬´ì‹œ íŒŒì¼
â”‚
â”œâ”€â”€ ğŸš€ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ start.sh                            # Linux/Mac ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ start.bat                           # Windows ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ ğŸ—„ï¸ database/                           # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë° Mock ë°ì´í„°
â”‚   â”œâ”€â”€ schema.sql                          # PostgreSQL í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ (6ê°œ í…Œì´ë¸”)
â”‚   â””â”€â”€ mock_data.sql                       # Mock ë°ì´í„° (ë³´í—˜ì¦ê¶Œ, ë‹´ë³´, AI í”¼ë“œë°±)
â”‚
â”œâ”€â”€ ğŸ“¦ mock-data/                          # Mock ë°ì´í„° ìƒ˜í”Œ
â”‚   â””â”€â”€ sample_claim_request.json           # ì²­êµ¬ ìš”ì²­ ìƒ˜í”Œ (Base64 ì´ë¯¸ì§€ í¬í•¨)
â”‚
â”œâ”€â”€ ğŸŒŠ n8n/                                # n8n ì›Œí¬í”Œë¡œìš°
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ë³´í—˜ê¸ˆ_ì²­êµ¬_ìë™_ì‹¬ì‚¬_ì‹œìŠ¤í…œ_v3.json  # n8n ì›Œí¬í”Œë¡œìš° (47ê°œ ë…¸ë“œ)
â”‚
â””â”€â”€ ğŸ’» backend/                            # Backend API ì„œë²„ (Node.js + Express + TypeScript)
    â”‚
    â”œâ”€â”€ Dockerfile                          # Backend ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€
    â”œâ”€â”€ package.json                        # NPM íŒ¨í‚¤ì§€ ì„¤ì •
    â”œâ”€â”€ tsconfig.json                       # TypeScript ì„¤ì •
    â”‚
    â””â”€â”€ src/                               # ì†ŒìŠ¤ ì½”ë“œ
        â”‚
        â”œâ”€â”€ server.ts                      # ì„œë²„ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
        â”‚
        â”œâ”€â”€ controllers/                   # ì»¨íŠ¸ë¡¤ëŸ¬ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
        â”‚   â”œâ”€â”€ claim.controller.ts        # ì²­êµ¬ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬
        â”‚   â”œâ”€â”€ policy.controller.ts       # ë³´í—˜ì¦ê¶Œ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬
        â”‚   â””â”€â”€ stats.controller.ts        # í†µê³„ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬
        â”‚
        â”œâ”€â”€ routes/                        # ë¼ìš°íŠ¸ (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
        â”‚   â”œâ”€â”€ index.ts                   # ë©”ì¸ ë¼ìš°íŠ¸
        â”‚   â”œâ”€â”€ claim.routes.ts            # ì²­êµ¬ ë¼ìš°íŠ¸
        â”‚   â”œâ”€â”€ policy.routes.ts           # ë³´í—˜ì¦ê¶Œ ë¼ìš°íŠ¸
        â”‚   â””â”€â”€ stats.routes.ts            # í†µê³„ ë¼ìš°íŠ¸
        â”‚
        â”œâ”€â”€ database/                      # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
        â”‚   â”œâ”€â”€ connection.ts              # PostgreSQL ì—°ê²° í’€
        â”‚   â””â”€â”€ redis.ts                   # Redis í´ë¼ì´ì–¸íŠ¸
        â”‚
        â”œâ”€â”€ middlewares/                   # ë¯¸ë“¤ì›¨ì–´
        â”‚   â”œâ”€â”€ errorHandler.ts            # ì—ëŸ¬ í•¸ë“¤ëŸ¬
        â”‚   â””â”€â”€ notFoundHandler.ts         # 404 í•¸ë“¤ëŸ¬
        â”‚
        â””â”€â”€ utils/                         # ìœ í‹¸ë¦¬í‹°
            â””â”€â”€ logger.ts                  # Winston ë¡œê±°
```

---

## ğŸ“Š íŒŒì¼ í†µê³„

### ì „ì²´
- **ì´ íŒŒì¼ ìˆ˜**: ì•½ 30ê°œ
- **ì½”ë“œ íŒŒì¼**: 20ê°œ (TypeScript, SQL)
- **ë¬¸ì„œ íŒŒì¼**: 5ê°œ (Markdown)
- **ì„¤ì • íŒŒì¼**: 5ê°œ (JSON, YAML, Dockerfile)

### Backend API (TypeScript)
- **ì´ ë¼ì¸ ìˆ˜**: ì•½ 1,500 ë¼ì¸
- **ì»¨íŠ¸ë¡¤ëŸ¬**: 3ê°œ
- **ë¼ìš°íŠ¸**: 4ê°œ
- **ë¯¸ë“¤ì›¨ì–´**: 2ê°œ
- **ìœ í‹¸ë¦¬í‹°**: 2ê°œ

### ë°ì´í„°ë² ì´ìŠ¤
- **í…Œì´ë¸”**: 6ê°œ
- **Mock ë°ì´í„°**: 3ê°œ ë³´í—˜ì¦ê¶Œ, 6ê°œ ë‹´ë³´, 9ê°œ AI í”¼ë“œë°±

### n8n ì›Œí¬í”Œë¡œìš°
- **ë…¸ë“œ ìˆ˜**: 47ê°œ
- **Webhook**: 4ê°œ
- **HTTP Request**: 7ê°œ (AI API í˜¸ì¶œ)
- **Code ë…¸ë“œ**: 10ê°œ (JavaScript)
- **PostgreSQL**: 13ê°œ (DB ì¿¼ë¦¬)

---

## ğŸ”§ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 1. Backend API (Node.js + Express)

**ì»¨íŠ¸ë¡¤ëŸ¬ (Controllers)**
- `claim.controller.ts`: ì²­êµ¬ì„œ ì œì¶œ, ê²€ì¦, ì¡°íšŒ, ìƒíƒœ í™•ì¸
- `policy.controller.ts`: ë³´í—˜ì¦ê¶Œ ì¡°íšŒ, ë‹´ë³´ ëª©ë¡
- `stats.controller.ts`: AI ëª¨ë¸ í†µê³„, ì²­êµ¬ í†µê³„, ëŒ€ì‹œë³´ë“œ

**ë¼ìš°íŠ¸ (Routes)**
- `/api/claims`: ì²­êµ¬ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸
- `/api/policies`: ë³´í—˜ì¦ê¶Œ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸
- `/api/stats`: í†µê³„ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸

**ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´**
- `connection.ts`: PostgreSQL ì—°ê²° í’€ (ì¿¼ë¦¬, íŠ¸ëœì­ì…˜)
- `redis.ts`: Redis ìºì‹± (get, set, JSON ì €ì¥)

**ìœ í‹¸ë¦¬í‹°**
- `logger.ts`: Winston ê¸°ë°˜ ë¡œê¹… (ì½˜ì†”, íŒŒì¼)

---

### 2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

**insurance_policies** (ë³´í—˜ì¦ê¶Œ)
- ë³´í—˜ ì¦ê¶Œ ì •ë³´, ì•½ê´€ ì „ë¬¸
- Mock ë°ì´í„°: 3ê±´

**claim_verification_queue** (ê²€ì¦ ëŒ€ê¸°ì—´)
- OCR ê²°ê³¼ ê²€ì¦ í•„ìš” ì²­êµ¬
- ê²€ì¦ì í”¼ë“œë°± ì €ì¥

**ai_model_feedback** (AI ëª¨ë¸ í”¼ë“œë°±)
- ëª¨ë¸ë³„ ì •í™•ë„ í‰ê°€
- Mock ë°ì´í„°: 9ê±´

**claim_review_results** (ì²­êµ¬ ì‹¬ì‚¬ ê²°ê³¼)
- ìµœì¢… ì‹¬ì‚¬ ê²°ê³¼
- ìŠ¹ì¸/ê±°ë¶€ ê¸ˆì•¡

**coverage_definitions** (ë‹´ë³´ ì •ì˜)
- ë³´í—˜ ìƒí’ˆë³„ ë‹´ë³´ ì •ë³´
- Mock ë°ì´í„°: 6ê±´

**workflow_error_logs** (ì—ëŸ¬ ë¡œê·¸)
- ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì—ëŸ¬

---

### 3. n8n ì›Œí¬í”Œë¡œìš° (47ê°œ ë…¸ë“œ)

**ë©”ì¸ í”Œë¡œìš°** (17ë‹¨ê³„)
1. ì²­êµ¬ì„œ ì œì¶œ ìˆ˜ì‹  (Webhook)
2. íŒŒì¼ ì „ì²˜ë¦¬ ë° ê²€ì¦ (Code)
3. ë³‘ë ¬ ë°ì´í„° ìˆ˜ì§‘ (5ê°œ ë…¸ë“œ)
   - ë³´í—˜ì¦ê¶Œ ì¡°íšŒ
   - AI í†µê³„ ì¡°íšŒ
   - OCR - GPT
   - OCR - Claude
   - OCR - Gemini
4. OCR ê²°ê³¼ ë³‘í•© ë° ì•™ìƒë¸”
5. ê²€ì¦ ë¶„ê¸° (ìë™/ìˆ˜ë™)
6. ê³„ì•½ ìœ íš¨ì„± ê²€ì¦
7. ë‹´ë³´ ë¶„ì„ (3ê°œ AI ëª¨ë¸)
8. AI ìë™ ì‹¬ì‚¬
9. ê²°ê³¼ ì €ì¥ ë° ì‘ë‹µ

**ë³´ì¡° API** (3ê°œ)
- ëª¨ë¸ í”¼ë“œë°± ìˆ˜ì‹ 
- ëª¨ë¸ í†µê³„ ì¡°íšŒ

**ì—ëŸ¬ ì²˜ë¦¬**
- ì—ëŸ¬ íŠ¸ë¦¬ê±°
- ì—ëŸ¬ ë¡œê¹…
- ì—ëŸ¬ ì‘ë‹µ

---

## ğŸ“¦ Docker ì»¨í…Œì´ë„ˆ

### 1. insurtech-postgres
- **ì´ë¯¸ì§€**: postgres:16-alpine
- **í¬íŠ¸**: 5432
- **ì—­í• **: ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
- **ì´ˆê¸°í™”**: schema.sql, mock_data.sql ìë™ ì‹¤í–‰

### 2. insurtech-redis
- **ì´ë¯¸ì§€**: redis:7-alpine
- **í¬íŠ¸**: 6379
- **ì—­í• **: ìºì‹±, ì„¸ì…˜ ê´€ë¦¬

### 3. insurtech-n8n
- **ì´ë¯¸ì§€**: n8nio/n8n:latest
- **í¬íŠ¸**: 5678
- **ì—­í• **: ì›Œí¬í”Œë¡œìš° ì—”ì§„
- **ì¸ì¦**: admin / admin123

### 4. insurtech-api
- **ë¹Œë“œ**: ./backend/Dockerfile
- **í¬íŠ¸**: 3000
- **ì—­í• **: REST API ì„œë²„

### 5. insurtech-pgadmin
- **ì´ë¯¸ì§€**: dpage/pgadmin4:latest
- **í¬íŠ¸**: 5050
- **ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ë„êµ¬
- **ì¸ì¦**: admin@insurtech.com / admin123

---

## ğŸŒ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

```
insurtech-network (Bridge)
â”‚
â”œâ”€â”€ insurtech-postgres:5432
â”œâ”€â”€ insurtech-redis:6379
â”œâ”€â”€ insurtech-n8n:5678
â”œâ”€â”€ insurtech-api:3000
â””â”€â”€ insurtech-pgadmin:80
```

**ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ **
- API â†’ PostgreSQL: `postgres:5432`
- API â†’ Redis: `redis:6379`
- API â†’ n8n: `n8n:5678/webhook`
- n8n â†’ PostgreSQL: `postgres:5432`

**ì™¸ë¶€ ì ‘ê·¼**
- http://localhost:3000 â†’ API
- http://localhost:5678 â†’ n8n
- http://localhost:5050 â†’ PgAdmin

---

## ğŸ’¾ ë°ì´í„° ë³¼ë¥¨

```
volumes:
  postgres_data    # PostgreSQL ë°ì´í„°
  redis_data       # Redis ë°ì´í„°
  n8n_data         # n8n ì„¤ì • ë° ì›Œí¬í”Œë¡œìš°
  pgadmin_data     # PgAdmin ì„¤ì •
```

---

## ğŸ” ë³´ì•ˆ ì„¤ì •

### ê¸°ë³¸ ê³„ì • (ê°œë°œ í™˜ê²½)
- **n8n**: admin / admin123
- **PgAdmin**: admin@insurtech.com / admin123
- **PostgreSQL**: insurtech_user / insurtech_password_2024

âš ï¸ **í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ ë³€ê²½í•˜ì„¸ìš”!**

---

## ğŸ“ˆ í™•ì¥ ê°€ëŠ¥ì„±

### ì¶”ê°€ ê°€ëŠ¥í•œ ê¸°ëŠ¥
- [ ] Frontend (React/Vue/Next.js)
- [ ] WebSocket (ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸)
- [ ] Message Queue (RabbitMQ, Kafka)
- [ ] Elasticsearch (ë¡œê·¸ ê²€ìƒ‰)
- [ ] Grafana (ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ)
- [ ] Nginx (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¶„ë¦¬
- [ ] OCR Service
- [ ] Coverage Analysis Service
- [ ] Review Service
- [ ] Notification Service

---

**ì´ êµ¬ì¡°ëŠ” í™•ì¥ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸš€
