{
  "name": "ğŸ¥ ë³´í—˜ê¸ˆ ì²­êµ¬ ìë™ì‹¬ì‚¬ ì „ì²´ í”„ë¡œì„¸ìŠ¤",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "claims/submit",
        "options": {}
      },
      "id": "webhook-trigger",
      "name": "ğŸ“¥ ì²­êµ¬ ì ‘ìˆ˜ Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [0, 300],
      "webhookId": "claim-submit-webhook"
    },
    {
      "parameters": {
        "jsCode": "// ì²­êµ¬ ë°ì´í„° ìœ íš¨ì„± ê²€ì¦\nconst claim = $input.first().json.body;\n\nconst errors = [];\n\n// í•„ìˆ˜ í•„ë“œ ê²€ì¦\nconst requiredFields = [\n  'policy_number', 'customer_name', 'claim_type',\n  'treatment_start_date', 'treatment_end_date',\n  'hospital_name', 'diagnosis_code', 'diagnosis_name',\n  'total_medical_expense', 'insured_expense', 'uninsured_expense'\n];\n\nrequiredFields.forEach(field => {\n  if (!claim[field]) {\n    errors.push(`í•„ìˆ˜ í•„ë“œ ëˆ„ë½: ${field}`);\n  }\n});\n\n// claim_type ìœ íš¨ì„±\nconst validTypes = ['HOSPITALIZATION', 'OUTPATIENT', 'SURGERY', 'DIAGNOSIS'];\nif (claim.claim_type && !validTypes.includes(claim.claim_type)) {\n  errors.push(`ìœ íš¨í•˜ì§€ ì•Šì€ ì²­êµ¬ìœ í˜•: ${claim.claim_type}`);\n}\n\n// ë‚ ì§œ í˜•ì‹ ê²€ì¦\nconst dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\nif (claim.treatment_start_date && !dateRegex.test(claim.treatment_start_date)) {\n  errors.push('ì¹˜ë£Œì‹œì‘ì¼ í˜•ì‹ ì˜¤ë¥˜ (YYYY-MM-DD)');\n}\nif (claim.treatment_end_date && !dateRegex.test(claim.treatment_end_date)) {\n  errors.push('ì¹˜ë£Œì¢…ë£Œì¼ í˜•ì‹ ì˜¤ë¥˜ (YYYY-MM-DD)');\n}\n\n// ê¸ˆì•¡ ê²€ì¦\nif (claim.total_medical_expense < 0) {\n  errors.push('ì´ ì§„ë£Œë¹„ëŠ” 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤');\n}\n\nreturn {\n  isValid: errors.length === 0,\n  errors: errors,\n  claim: claim,\n  receivedAt: new Date().toISOString()\n};"
      },
      "id": "validate-input",
      "name": "âœ… ì…ë ¥ ë°ì´í„° ê²€ì¦",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [220, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "valid-check",
              "leftValue": "={{ $json.isValid }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-valid",
      "name": "ğŸ”€ ìœ íš¨ì„± ì²´í¬",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [440, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/auth/login",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "username",
              "value": "system"
            },
            {
              "name": "password",
              "value": "system123!"
            }
          ]
        },
        "options": {}
      },
      "id": "auth-login",
      "name": "ğŸ” ì‹œìŠ¤í…œ ë¡œê·¸ì¸",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [660, 200]
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/policies/{{ $('âœ… ì…ë ¥ ë°ì´í„° ê²€ì¦').item.json.claim.policy_number }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-policy",
      "name": "ğŸ“‹ ë³´í—˜ì¦ê¶Œ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [880, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "policy-valid",
              "leftValue": "={{ $json.success }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-policy-exists",
      "name": "ğŸ”€ ì¦ê¶Œ ì¡´ì¬ í™•ì¸",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1100, 200]
    },
    {
      "parameters": {
        "jsCode": "// ë³´í—˜ ì •ì±… ìœ íš¨ì„± ìƒì„¸ ê²€ì¦\nconst policy = $('ğŸ“‹ ë³´í—˜ì¦ê¶Œ ì¡°íšŒ').item.json.data;\nconst claim = $('âœ… ì…ë ¥ ë°ì´í„° ê²€ì¦').item.json.claim;\n\nconst today = new Date();\nconst coverageStart = new Date(policy.coverage_start_date);\nconst coverageEnd = new Date(policy.coverage_end_date);\nconst treatmentStart = new Date(claim.treatment_start_date);\n\nconst issues = [];\nlet isValid = true;\n\n// 1. ë³´ì¥ê¸°ê°„ í™•ì¸\nif (treatmentStart < coverageStart || treatmentStart > coverageEnd) {\n  issues.push('ì¹˜ë£Œì¼ì´ ë³´ì¥ê¸°ê°„ ì™¸');\n  isValid = false;\n}\n\n// 2. ë‚©ì…ìƒíƒœ í™•ì¸\nif (policy.status !== 'ACTIVE') {\n  issues.push(`ì¦ê¶Œ ìƒíƒœ ì´ìƒ: ${policy.status}`);\n  isValid = false;\n}\n\n// 3. ë©´ì±…ê¸°ê°„ í™•ì¸ (ê³„ì•½ì¼ë¡œë¶€í„° 90ì¼)\nconst exemptionEndDate = new Date(coverageStart);\nexemptionEndDate.setDate(exemptionEndDate.getDate() + 90);\nconst isInExemptionPeriod = treatmentStart < exemptionEndDate;\n\n// 4. ê°ì•¡ê¸°ê°„ í™•ì¸ (ê³„ì•½ì¼ë¡œë¶€í„° 1ë…„)\nconst reductionEndDate = new Date(coverageStart);\nreductionEndDate.setFullYear(reductionEndDate.getFullYear() + 1);\nconst isInReductionPeriod = treatmentStart < reductionEndDate;\nconst reductionRate = isInReductionPeriod ? 0.5 : 1.0; // 50% ê°ì•¡\n\nif (isInExemptionPeriod) {\n  issues.push('ë©´ì±…ê¸°ê°„ ë‚´ ì²­êµ¬ (90ì¼)');\n}\n\nreturn {\n  isValid: isValid,\n  issues: issues,\n  policy: policy,\n  claim: claim,\n  isInExemptionPeriod: isInExemptionPeriod,\n  isInReductionPeriod: isInReductionPeriod,\n  reductionRate: reductionRate,\n  customer: policy.customer\n};"
      },
      "id": "validate-policy",
      "name": "ğŸ” ì •ì±… ìœ íš¨ì„± ë¶„ì„",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1320, 100]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "policy-valid-detail",
              "leftValue": "={{ $json.isValid }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-policy-valid",
      "name": "ğŸ”€ ì •ì±… ìœ íš¨?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1540, 100]
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/policies/{{ $('ğŸ” ì •ì±… ìœ íš¨ì„± ë¶„ì„').item.json.policy.id }}/coverages",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-coverages",
      "name": "ğŸ’° ë‹´ë³´ ëª©ë¡ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1760, 0],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/policies/terms/{{ $('ğŸ” ì •ì±… ìœ íš¨ì„± ë¶„ì„').item.json.policy.product_code }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-terms",
      "name": "ğŸ“– ì•½ê´€ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1760, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "mergeByFields": {
          "values": []
        },
        "options": {}
      },
      "id": "merge-policy-data",
      "name": "ğŸ”— ì •ì±… ë°ì´í„° ë³‘í•©",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [1980, 100]
    },
    {
      "parameters": {
        "jsCode": "// ë‹´ë³´ ë¶„ì„ ë° ì§€ê¸‰ì•¡ ê³„ì‚°\nconst coverages = $('ğŸ’° ë‹´ë³´ ëª©ë¡ ì¡°íšŒ').item.json.data || [];\nconst terms = $('ğŸ“– ì•½ê´€ ì¡°íšŒ').item.json.data || [];\nconst policyData = $('ğŸ” ì •ì±… ìœ íš¨ì„± ë¶„ì„').item.json;\nconst claim = policyData.claim;\nconst reductionRate = policyData.reductionRate;\n\nconst breakdown = [];\nlet totalApproved = 0;\nlet totalRejected = 0;\n\n// ì²­êµ¬ìœ í˜•ë³„ ì ìš© ë‹´ë³´ í•„í„°ë§\nconst applicableCoverages = coverages.filter(cov => {\n  if (claim.claim_type === 'HOSPITALIZATION') {\n    return cov.code.includes('HOS') || cov.code.includes('ì…ì›');\n  } else if (claim.claim_type === 'SURGERY') {\n    return cov.code.includes('SUR') || cov.code.includes('ìˆ˜ìˆ ');\n  } else if (claim.claim_type === 'OUTPATIENT') {\n    return cov.code.includes('OUT') || cov.code.includes('í†µì›');\n  } else if (claim.claim_type === 'DIAGNOSIS') {\n    return cov.code.includes('DIA') || cov.code.includes('ì§„ë‹¨');\n  }\n  return true;\n});\n\napplicableCoverages.forEach(coverage => {\n  let claimedAmount = 0;\n  let approvedAmount = 0;\n  let rejectedAmount = 0;\n  let calculation = '';\n  let rejectionReason = null;\n\n  // ë‹´ë³´ ìœ í˜•ë³„ ê³„ì‚°\n  if (coverage.type === 'REAL_LOSS') {\n    // ì‹¤ì† ë‹´ë³´: ì‹¤ì œ ë¹„ìš© ê¸°ì¤€\n    claimedAmount = claim.insured_expense;\n    const deductible = coverage.deductible_amount || 0;\n    const deductibleRate = coverage.deductible_rate || 0;\n    const payoutRate = coverage.payout_rate || 1.0;\n    \n    // ë³¸ì¸ë¶€ë‹´ê¸ˆ ê³µì œ\n    const afterDeductible = Math.max(0, claimedAmount - deductible);\n    const afterRate = afterDeductible * (1 - deductibleRate);\n    approvedAmount = Math.min(afterRate * payoutRate, coverage.insured_amount);\n    \n    // ê°ì•¡ê¸°ê°„ ì ìš©\n    approvedAmount = approvedAmount * reductionRate;\n    \n    rejectedAmount = claimedAmount - approvedAmount;\n    calculation = `(${claimedAmount.toLocaleString()} - ${deductible.toLocaleString()}) Ã— ${(1-deductibleRate)*100}% Ã— ${reductionRate*100}%`;\n    \n  } else if (coverage.type === 'FIXED') {\n    // ì •ì•¡ ë‹´ë³´: ê³ ì • ê¸ˆì•¡ ì§€ê¸‰\n    claimedAmount = coverage.insured_amount;\n    \n    if (claim.claim_type === 'HOSPITALIZATION' && claim.hospitalization_days) {\n      // ì…ì›ì¼ë‹¹\n      const maxDays = coverage.max_days || 180;\n      const actualDays = Math.min(claim.hospitalization_days, maxDays);\n      approvedAmount = coverage.daily_amount * actualDays * reductionRate;\n      calculation = `${coverage.daily_amount.toLocaleString()}/ì¼ Ã— ${actualDays}ì¼ Ã— ${reductionRate*100}%`;\n    } else if (claim.claim_type === 'SURGERY') {\n      // ìˆ˜ìˆ ë¹„ (ìˆ˜ìˆ ë¶„ë¥˜ì— ë”°ë¼)\n      const surgeryClass = claim.surgery_classification || 3;\n      const classMultiplier = [2.0, 1.5, 1.0, 0.7, 0.5][surgeryClass - 1] || 1.0;\n      approvedAmount = coverage.insured_amount * classMultiplier * reductionRate;\n      calculation = `${coverage.insured_amount.toLocaleString()} Ã— ${classMultiplier} (${surgeryClass}ì¢…) Ã— ${reductionRate*100}%`;\n    } else {\n      approvedAmount = coverage.insured_amount * reductionRate;\n      calculation = `${coverage.insured_amount.toLocaleString()} Ã— ${reductionRate*100}%`;\n    }\n    \n    rejectedAmount = claimedAmount - approvedAmount;\n  }\n\n  // ì•½ê´€ ì°¸ì¡° ì°¾ê¸°\n  const relevantTerm = terms.find(t => \n    t.coverage_code === coverage.code || \n    t.article_title?.includes(coverage.name)\n  );\n\n  breakdown.push({\n    coverageId: coverage.id,\n    coverageName: coverage.name,\n    coverageCode: coverage.code,\n    coverageType: coverage.type,\n    claimedAmount: Math.round(claimedAmount),\n    approvedAmount: Math.round(approvedAmount),\n    rejectedAmount: Math.round(rejectedAmount),\n    calculation: calculation,\n    rejectionReason: rejectionReason,\n    termReference: relevantTerm ? {\n      article: relevantTerm.article_number,\n      title: relevantTerm.article_title,\n      content: relevantTerm.content?.substring(0, 200) + '...'\n    } : null\n  });\n\n  totalApproved += approvedAmount;\n  totalRejected += rejectedAmount;\n});\n\nreturn {\n  coverages: applicableCoverages,\n  breakdown: breakdown,\n  totalApproved: Math.round(totalApproved),\n  totalRejected: Math.round(totalRejected),\n  totalClaimed: Math.round(totalApproved + totalRejected),\n  claim: claim,\n  policy: policyData.policy,\n  reductionRate: reductionRate\n};"
      },
      "id": "analyze-coverages",
      "name": "ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2200, 100]
    },
    {
      "parameters": {},
      "id": "split-ai",
      "name": "âš¡ AI ë³‘ë ¬ ì²˜ë¦¬ ì‹œì‘",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [2420, 100]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.openai.com/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"gpt-4o\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"ë‹¹ì‹ ì€ ë³´í—˜ê¸ˆ ì²­êµ¬ ì‹¬ì‚¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì œê³µëœ ì²­êµ¬ ì •ë³´ë¥¼ ë¶„ì„í•˜ì—¬ ìŠ¹ì¸/ê±°ì ˆ/ê²€í†  ì¶”ì²œì„ í•˜ì„¸ìš”.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"ì²­êµ¬ ì •ë³´:\\n- ì²­êµ¬ìœ í˜•: {{ $json.claim.claim_type }}\\n- ì§„ë‹¨ì½”ë“œ: {{ $json.claim.diagnosis_code }}\\n- ì§„ë‹¨ëª…: {{ $json.claim.diagnosis_name }}\\n- ì´ ì²­êµ¬ì•¡: {{ $json.totalClaimed }}ì›\\n- ê³„ì‚°ëœ ìŠ¹ì¸ì•¡: {{ $json.totalApproved }}ì›\\n\\në‹´ë³´ ë¶„ì„ ê²°ê³¼:\\n{{ JSON.stringify($json.breakdown, null, 2) }}\\n\\nìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:\\n{\\n  \\\"recommendation\\\": \\\"APPROVE|REJECT|REVIEW\\\",\\n  \\\"confidence\\\": 0.0-1.0,\\n  \\\"reasoning\\\": \\\"íŒë‹¨ ê·¼ê±°\\\",\\n  \\\"adjustedAmount\\\": ì¡°ì •ëœ ê¸ˆì•¡ (ì—†ìœ¼ë©´ null),\\n  \\\"flags\\\": [\\\"ì£¼ì˜ì‚¬í•­ ëª©ë¡\\\"]\\n}\"\n    }\n  ],\n  \"temperature\": 0.3,\n  \"max_tokens\": 1000\n}",
        "options": {}
      },
      "id": "ai-openai",
      "name": "ğŸ¤– GPT-4o ì‹¬ì‚¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2640, -100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "openai-api",
          "name": "OpenAI API"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.anthropic.com/v1/messages",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-api-key",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            },
            {
              "name": "anthropic-version",
              "value": "2023-06-01"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"claude-sonnet-4-20250514\",\n  \"max_tokens\": 1000,\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"ë‹¹ì‹ ì€ ë³´í—˜ê¸ˆ ì²­êµ¬ ì‹¬ì‚¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.\\n\\nì²­êµ¬ ì •ë³´:\\n- ì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}\\n- ì§„ë‹¨ì½”ë“œ: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.diagnosis_code }}\\n- ì§„ë‹¨ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.diagnosis_name }}\\n- ì´ ì²­êµ¬ì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalClaimed }}ì›\\n- ê³„ì‚°ëœ ìŠ¹ì¸ì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved }}ì›\\n\\në‹´ë³´ ë¶„ì„ ê²°ê³¼:\\n{{ JSON.stringify($('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.breakdown, null, 2) }}\\n\\nìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:\\n{\\n  \\\"recommendation\\\": \\\"APPROVE|REJECT|REVIEW\\\",\\n  \\\"confidence\\\": 0.0-1.0,\\n  \\\"reasoning\\\": \\\"íŒë‹¨ ê·¼ê±°\\\",\\n  \\\"adjustedAmount\\\": ì¡°ì •ëœ ê¸ˆì•¡ (ì—†ìœ¼ë©´ null),\\n  \\\"flags\\\": [\\\"ì£¼ì˜ì‚¬í•­ ëª©ë¡\\\"]\\n}\"\n    }\n  ]\n}",
        "options": {}
      },
      "id": "ai-claude",
      "name": "ğŸ¤– Claude ì‹¬ì‚¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2640, 100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "anthropic-api",
          "name": "Anthropic API"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\": [\n    {\n      \"parts\": [\n        {\n          \"text\": \"ë‹¹ì‹ ì€ ë³´í—˜ê¸ˆ ì²­êµ¬ ì‹¬ì‚¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.\\n\\nì²­êµ¬ ì •ë³´:\\n- ì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}\\n- ì§„ë‹¨ì½”ë“œ: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.diagnosis_code }}\\n- ì§„ë‹¨ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.diagnosis_name }}\\n- ì´ ì²­êµ¬ì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalClaimed }}ì›\\n- ê³„ì‚°ëœ ìŠ¹ì¸ì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved }}ì›\\n\\në‹´ë³´ ë¶„ì„ ê²°ê³¼:\\n{{ JSON.stringify($('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.breakdown, null, 2) }}\\n\\nìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:\\n{\\n  \\\"recommendation\\\": \\\"APPROVE|REJECT|REVIEW\\\",\\n  \\\"confidence\\\": 0.0-1.0,\\n  \\\"reasoning\\\": \\\"íŒë‹¨ ê·¼ê±°\\\",\\n  \\\"adjustedAmount\\\": ì¡°ì •ëœ ê¸ˆì•¡ (ì—†ìœ¼ë©´ null),\\n  \\\"flags\\\": [\\\"ì£¼ì˜ì‚¬í•­ ëª©ë¡\\\"]\\n}\"\n        }\n      ]\n    }\n  ],\n  \"generationConfig\": {\n    \"temperature\": 0.3,\n    \"maxOutputTokens\": 1000\n  }\n}",
        "options": {}
      },
      "id": "ai-gemini",
      "name": "ğŸ¤– Gemini ì‹¬ì‚¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2640, 300],
      "credentials": {
        "httpQueryAuth": {
          "id": "google-api",
          "name": "Google API"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "id": "merge-ai-results",
      "name": "ğŸ”— AI ê²°ê³¼ ë³‘í•©",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [2860, 100]
    },
    {
      "parameters": {
        "jsCode": "// AI ê²°ê³¼ íŒŒì‹± ë° ì•™ìƒë¸” íˆ¬í‘œ\nconst items = $input.all();\nconst coverageData = $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json;\n\nconst results = [];\n\n// GPT-4o ê²°ê³¼ íŒŒì‹±\ntry {\n  const gptResponse = items[0]?.json?.choices?.[0]?.message?.content;\n  if (gptResponse) {\n    const gptResult = JSON.parse(gptResponse.replace(/```json\\n?|```/g, ''));\n    results.push({\n      model: 'GPT-4o',\n      modelCode: 'openai-gpt4o',\n      ...gptResult,\n      weight: 0.35\n    });\n  }\n} catch (e) {\n  results.push({ model: 'GPT-4o', error: e.message, recommendation: 'REVIEW', confidence: 0.5, weight: 0.35 });\n}\n\n// Claude ê²°ê³¼ íŒŒì‹±\ntry {\n  const claudeResponse = items[1]?.json?.content?.[0]?.text;\n  if (claudeResponse) {\n    const claudeResult = JSON.parse(claudeResponse.replace(/```json\\n?|```/g, ''));\n    results.push({\n      model: 'Claude-Sonnet',\n      modelCode: 'anthropic-claude',\n      ...claudeResult,\n      weight: 0.35\n    });\n  }\n} catch (e) {\n  results.push({ model: 'Claude-Sonnet', error: e.message, recommendation: 'REVIEW', confidence: 0.5, weight: 0.35 });\n}\n\n// Gemini ê²°ê³¼ íŒŒì‹±\ntry {\n  const geminiResponse = items[2]?.json?.candidates?.[0]?.content?.parts?.[0]?.text;\n  if (geminiResponse) {\n    const geminiResult = JSON.parse(geminiResponse.replace(/```json\\n?|```/g, ''));\n    results.push({\n      model: 'Gemini-Pro',\n      modelCode: 'google-gemini',\n      ...geminiResult,\n      weight: 0.30\n    });\n  }\n} catch (e) {\n  results.push({ model: 'Gemini-Pro', error: e.message, recommendation: 'REVIEW', confidence: 0.5, weight: 0.30 });\n}\n\n// ì•™ìƒë¸” íˆ¬í‘œ\nconst votes = { APPROVE: 0, REJECT: 0, REVIEW: 0 };\nlet totalConfidence = 0;\nlet weightSum = 0;\n\nresults.forEach(r => {\n  if (r.recommendation && votes.hasOwnProperty(r.recommendation)) {\n    votes[r.recommendation] += r.weight * (r.confidence || 0.5);\n    totalConfidence += (r.confidence || 0.5) * r.weight;\n    weightSum += r.weight;\n  }\n});\n\n// ìµœì¢… ì¶”ì²œ ê²°ì •\nlet finalRecommendation = 'REVIEW';\nlet maxVote = 0;\nfor (const [rec, vote] of Object.entries(votes)) {\n  if (vote > maxVote) {\n    maxVote = vote;\n    finalRecommendation = rec;\n  }\n}\n\nconst avgConfidence = weightSum > 0 ? totalConfidence / weightSum : 0.5;\n\n// ë§Œì¥ì¼ì¹˜ ì²´í¬\nconst uniqueRecs = [...new Set(results.map(r => r.recommendation))];\nconst isUnanimous = uniqueRecs.length === 1;\n\nreturn {\n  modelResults: results,\n  votes: votes,\n  finalRecommendation: finalRecommendation,\n  confidenceScore: Math.round(avgConfidence * 100) / 100,\n  isUnanimous: isUnanimous,\n  coverageAnalysis: coverageData,\n  claim: coverageData.claim,\n  policy: coverageData.policy,\n  totalApproved: coverageData.totalApproved,\n  totalRejected: coverageData.totalRejected,\n  breakdown: coverageData.breakdown\n};"
      },
      "id": "ensemble-vote",
      "name": "ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [3080, 100]
    },
    {
      "parameters": {
        "jsCode": "// ì‚¬ê¸° íƒì§€ íŒ¨í„´ ë¶„ì„\nconst data = $input.first().json;\nconst claim = data.claim;\nconst policy = data.policy;\n\nlet totalScore = 0;\nconst detectedPatterns = [];\n\n// íŒ¨í„´ 1: ë‹¨ê¸°ë‹¤ìˆ˜ì²­êµ¬ (ì‹œë®¬ë ˆì´ì…˜ - ì‹¤ì œë¡œëŠ” DB ì¡°íšŒ í•„ìš”)\nconst recentClaimCount = Math.floor(Math.random() * 5); // ì‹¤ì œë¡œëŠ” DBì—ì„œ ì¡°íšŒ\nif (recentClaimCount >= 3) {\n  totalScore += 20;\n  detectedPatterns.push({\n    pattern: 'FREQUENT_CLAIMS',\n    name: 'ë‹¨ê¸°ë‹¤ìˆ˜ì²­êµ¬',\n    score: 20,\n    description: `ìµœê·¼ 7ì¼ ë‚´ ${recentClaimCount}ê±´ ì²­êµ¬`\n  });\n}\n\n// íŒ¨í„´ 2: ê³ ì•¡ ì²­êµ¬\nconst avgClaimAmount = 500000; // ì‹¤ì œë¡œëŠ” DBì—ì„œ í‰ê·  ì¡°íšŒ\nif (claim.total_medical_expense > avgClaimAmount * 3) {\n  totalScore += 25;\n  detectedPatterns.push({\n    pattern: 'HIGH_AMOUNT',\n    name: 'ê³ ì•¡ì²­êµ¬',\n    score: 25,\n    description: `í‰ê· ì˜ ${Math.round(claim.total_medical_expense / avgClaimAmount)}ë°°`\n  });\n}\n\n// íŒ¨í„´ 3: ì¡°ê¸° ì²­êµ¬ (ê³„ì•½ í›„ 6ê°œì›” ë‚´)\nconst contractDate = new Date(policy.coverage_start_date);\nconst treatmentDate = new Date(claim.treatment_start_date);\nconst monthsDiff = (treatmentDate - contractDate) / (1000 * 60 * 60 * 24 * 30);\nif (monthsDiff < 6) {\n  totalScore += 20;\n  detectedPatterns.push({\n    pattern: 'EARLY_CLAIM',\n    name: 'ì¡°ê¸°ì²­êµ¬',\n    score: 20,\n    description: `ê³„ì•½ í›„ ${Math.round(monthsDiff)}ê°œì›” ë§Œì— ì²­êµ¬`\n  });\n}\n\n// íŒ¨í„´ 4: ì£¼ë§ ì…ì›\nconst admissionDay = new Date(claim.treatment_start_date).getDay();\nif (claim.claim_type === 'HOSPITALIZATION' && (admissionDay === 5 || admissionDay === 6)) {\n  totalScore += 10;\n  detectedPatterns.push({\n    pattern: 'WEEKEND_ADMISSION',\n    name: 'ì£¼ë§ì…ì›',\n    score: 10,\n    description: 'ê¸ˆìš”ì¼/í† ìš”ì¼ ì…ì›'\n  });\n}\n\n// íŒ¨í„´ 5: ì§„ë‹¨ì½”ë“œ ìœ„í—˜ë„\nconst highRiskCodes = ['C', 'I21', 'I22', 'I23', 'G45']; // ì•”, ì‹¬ê·¼ê²½ìƒ‰, ë‡Œì¡¸ì¤‘\nconst diagCode = claim.diagnosis_code?.toUpperCase() || '';\nif (highRiskCodes.some(code => diagCode.startsWith(code))) {\n  totalScore += 15;\n  detectedPatterns.push({\n    pattern: 'HIGH_RISK_DIAGNOSIS',\n    name: 'ê³ ìœ„í—˜ì§„ë‹¨',\n    score: 15,\n    description: `ê³ ìœ„í—˜ ì§„ë‹¨ì½”ë“œ: ${diagCode}`\n  });\n}\n\n// ìœ„í—˜ë„ ë ˆë²¨ ê²°ì •\nlet riskLevel = 'LOW';\nlet recommendedAction = 'APPROVE';\n\nif (totalScore >= 76) {\n  riskLevel = 'CRITICAL';\n  recommendedAction = 'REJECT';\n} else if (totalScore >= 51) {\n  riskLevel = 'HIGH';\n  recommendedAction = 'INVESTIGATE';\n} else if (totalScore >= 31) {\n  riskLevel = 'MEDIUM';\n  recommendedAction = 'REVIEW';\n}\n\nreturn {\n  ...data,\n  fraudDetection: {\n    totalScore: totalScore,\n    riskLevel: riskLevel,\n    recommendedAction: recommendedAction,\n    detectedPatterns: detectedPatterns,\n    analyzedAt: new Date().toISOString()\n  }\n};"
      },
      "id": "fraud-detection",
      "name": "ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [3300, 100]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.fraudDetection.riskLevel }}",
                    "rightValue": "LOW",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "LOW_RISK"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.fraudDetection.riskLevel }}",
                    "rightValue": "MEDIUM",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "MEDIUM_RISK"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.fraudDetection.riskLevel }}",
                    "rightValue": "HIGH",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "HIGH_RISK"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.fraudDetection.riskLevel }}",
                    "rightValue": "CRITICAL",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "CRITICAL_RISK"
            }
          ]
        },
        "options": {}
      },
      "id": "switch-risk",
      "name": "ğŸ”€ ìœ„í—˜ë„ë³„ ë¶„ê¸°",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [3520, 100]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/claims",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"policy_number\": \"{{ $json.claim.policy_number }}\",\n  \"customer_name\": \"{{ $json.claim.customer_name }}\",\n  \"claim_type\": \"{{ $json.claim.claim_type }}\",\n  \"treatment_start_date\": \"{{ $json.claim.treatment_start_date }}\",\n  \"treatment_end_date\": \"{{ $json.claim.treatment_end_date }}\",\n  \"hospital_name\": \"{{ $json.claim.hospital_name }}\",\n  \"diagnosis_code\": \"{{ $json.claim.diagnosis_code }}\",\n  \"diagnosis_name\": \"{{ $json.claim.diagnosis_name }}\",\n  \"surgery_code\": \"{{ $json.claim.surgery_code }}\",\n  \"surgery_name\": \"{{ $json.claim.surgery_name }}\",\n  \"hospitalization_days\": {{ $json.claim.hospitalization_days || 0 }},\n  \"total_medical_expense\": {{ $json.claim.total_medical_expense }},\n  \"insured_expense\": {{ $json.claim.insured_expense }},\n  \"uninsured_expense\": {{ $json.claim.uninsured_expense }},\n  \"ai_recommendation\": \"{{ $json.finalRecommendation }}\",\n  \"ai_confidence_score\": {{ $json.confidenceScore }},\n  \"fraud_score\": {{ $json.fraudDetection.totalScore }},\n  \"fraud_risk_level\": \"{{ $json.fraudDetection.riskLevel }}\",\n  \"total_approved\": {{ $json.totalApproved }},\n  \"total_rejected\": {{ $json.totalRejected }},\n  \"status\": \"PENDING\"\n}",
        "options": {}
      },
      "id": "save-claim-low",
      "name": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [3760, -100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/claims",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"policy_number\": \"{{ $json.claim.policy_number }}\",\n  \"customer_name\": \"{{ $json.claim.customer_name }}\",\n  \"claim_type\": \"{{ $json.claim.claim_type }}\",\n  \"treatment_start_date\": \"{{ $json.claim.treatment_start_date }}\",\n  \"treatment_end_date\": \"{{ $json.claim.treatment_end_date }}\",\n  \"hospital_name\": \"{{ $json.claim.hospital_name }}\",\n  \"diagnosis_code\": \"{{ $json.claim.diagnosis_code }}\",\n  \"diagnosis_name\": \"{{ $json.claim.diagnosis_name }}\",\n  \"surgery_code\": \"{{ $json.claim.surgery_code }}\",\n  \"surgery_name\": \"{{ $json.claim.surgery_name }}\",\n  \"hospitalization_days\": {{ $json.claim.hospitalization_days || 0 }},\n  \"total_medical_expense\": {{ $json.claim.total_medical_expense }},\n  \"insured_expense\": {{ $json.claim.insured_expense }},\n  \"uninsured_expense\": {{ $json.claim.uninsured_expense }},\n  \"ai_recommendation\": \"REVIEW\",\n  \"ai_confidence_score\": {{ $json.confidenceScore }},\n  \"fraud_score\": {{ $json.fraudDetection.totalScore }},\n  \"fraud_risk_level\": \"{{ $json.fraudDetection.riskLevel }}\",\n  \"total_approved\": {{ $json.totalApproved }},\n  \"total_rejected\": {{ $json.totalRejected }},\n  \"status\": \"PENDING\"\n}",
        "options": {}
      },
      "id": "save-claim-medium",
      "name": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (MEDIUM)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [3760, 60],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/claims",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"policy_number\": \"{{ $json.claim.policy_number }}\",\n  \"customer_name\": \"{{ $json.claim.customer_name }}\",\n  \"claim_type\": \"{{ $json.claim.claim_type }}\",\n  \"treatment_start_date\": \"{{ $json.claim.treatment_start_date }}\",\n  \"treatment_end_date\": \"{{ $json.claim.treatment_end_date }}\",\n  \"hospital_name\": \"{{ $json.claim.hospital_name }}\",\n  \"diagnosis_code\": \"{{ $json.claim.diagnosis_code }}\",\n  \"diagnosis_name\": \"{{ $json.claim.diagnosis_name }}\",\n  \"surgery_code\": \"{{ $json.claim.surgery_code }}\",\n  \"surgery_name\": \"{{ $json.claim.surgery_name }}\",\n  \"hospitalization_days\": {{ $json.claim.hospitalization_days || 0 }},\n  \"total_medical_expense\": {{ $json.claim.total_medical_expense }},\n  \"insured_expense\": {{ $json.claim.insured_expense }},\n  \"uninsured_expense\": {{ $json.claim.uninsured_expense }},\n  \"ai_recommendation\": \"INVESTIGATE\",\n  \"ai_confidence_score\": {{ $json.confidenceScore }},\n  \"fraud_score\": {{ $json.fraudDetection.totalScore }},\n  \"fraud_risk_level\": \"{{ $json.fraudDetection.riskLevel }}\",\n  \"total_approved\": {{ $json.totalApproved }},\n  \"total_rejected\": {{ $json.totalRejected }},\n  \"status\": \"PENDING\"\n}",
        "options": {}
      },
      "id": "save-claim-high",
      "name": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (HIGH)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [3760, 220],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/claims",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"policy_number\": \"{{ $json.claim.policy_number }}\",\n  \"customer_name\": \"{{ $json.claim.customer_name }}\",\n  \"claim_type\": \"{{ $json.claim.claim_type }}\",\n  \"treatment_start_date\": \"{{ $json.claim.treatment_start_date }}\",\n  \"treatment_end_date\": \"{{ $json.claim.treatment_end_date }}\",\n  \"hospital_name\": \"{{ $json.claim.hospital_name }}\",\n  \"diagnosis_code\": \"{{ $json.claim.diagnosis_code }}\",\n  \"diagnosis_name\": \"{{ $json.claim.diagnosis_name }}\",\n  \"surgery_code\": \"{{ $json.claim.surgery_code }}\",\n  \"surgery_name\": \"{{ $json.claim.surgery_name }}\",\n  \"hospitalization_days\": {{ $json.claim.hospitalization_days || 0 }},\n  \"total_medical_expense\": {{ $json.claim.total_medical_expense }},\n  \"insured_expense\": {{ $json.claim.insured_expense }},\n  \"uninsured_expense\": {{ $json.claim.uninsured_expense }},\n  \"ai_recommendation\": \"REJECT\",\n  \"ai_confidence_score\": {{ $json.confidenceScore }},\n  \"fraud_score\": {{ $json.fraudDetection.totalScore }},\n  \"fraud_risk_level\": \"{{ $json.fraudDetection.riskLevel }}\",\n  \"total_approved\": 0,\n  \"total_rejected\": {{ $json.claim.total_medical_expense }},\n  \"status\": \"PENDING\"\n}",
        "options": {}
      },
      "id": "save-claim-critical",
      "name": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (CRITICAL)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [3760, 380],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://insurtech-api:3000/api/approvals/start",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"claimId\": {{ $json.data.id }},\n  \"templateCode\": \"AUTO_APPROVE\",\n  \"priority\": \"LOW\"\n}",
        "options": {}
      },
      "id": "start-approval-low",
      "name": "âœ… ìë™ìŠ¹ì¸ ê²°ì¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [4000, -100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://insurtech-api:3000/api/approvals/start",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"claimId\": {{ $json.data.id }},\n  \"templateCode\": \"TEAM_LEAD_ONLY\",\n  \"priority\": \"NORMAL\"\n}",
        "options": {}
      },
      "id": "start-approval-medium",
      "name": "ğŸ‘¤ íŒ€ì¥ ê²°ì¬ ì‹œì‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [4000, 60],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://insurtech-api:3000/api/approvals/start",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"claimId\": {{ $json.data.id }},\n  \"templateCode\": \"TEAM_AND_MANAGER\",\n  \"priority\": \"HIGH\"\n}",
        "options": {}
      },
      "id": "start-approval-high",
      "name": "ğŸ‘¥ íŒ€ì¥+ë¶€ì¥ ê²°ì¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [4000, 220],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://insurtech-api:3000/api/fraud/siu-referral/{{ $json.data.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"referralReason\": \"ì‚¬ê¸° ì˜ì‹¬ ì ìˆ˜ CRITICAL ({{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }}ì )\",\n  \"detectedPatterns\": {{ JSON.stringify($('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.detectedPatterns) }},\n  \"priority\": \"URGENT\"\n}",
        "options": {}
      },
      "id": "siu-referral",
      "name": "ğŸš” SIU ì¡°ì‚¬ ì˜ë¢°",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [4000, 380],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=âœ… *ìë™ ìŠ¹ì¸ ì™„ë£Œ*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)').item.json.data.claim_number }}\nê³ ê°ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.customer_name }}\nì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}\nìŠ¹ì¸ê¸ˆì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved.toLocaleString() }}ì›\nAI ì‹ ë¢°ë„: {{ ($('ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ').item.json.confidenceScore * 100).toFixed(1) }}%\nì‚¬ê¸°ì ìˆ˜: {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }}ì  (LOW)",
        "otherOptions": {}
      },
      "id": "slack-approved",
      "name": "ğŸ“± Slack ì•Œë¦¼ (ìŠ¹ì¸)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [4240, -100],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=âš ï¸ *íŒ€ì¥ ê²€í†  í•„ìš”*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (MEDIUM)').item.json.data.claim_number }}\nê³ ê°ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.customer_name }}\nì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}\nì²­êµ¬ê¸ˆì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.total_medical_expense.toLocaleString() }}ì›\nì˜ˆìƒìŠ¹ì¸: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved.toLocaleString() }}ì›\nAI ì¶”ì²œ: {{ $('ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ').item.json.finalRecommendation }}\nì‚¬ê¸°ì ìˆ˜: {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }}ì  (MEDIUM)\n\nê²°ì¬ ë°”ë¡œê°€ê¸°: http://localhost:3001/approvals",
        "otherOptions": {}
      },
      "id": "slack-review",
      "name": "ğŸ“± Slack ì•Œë¦¼ (ê²€í† )",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [4240, 60],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-fraud-alert",
        "text": "=ğŸš¨ *ê³ ìœ„í—˜ ì²­êµ¬ ê°ì§€*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (HIGH)').item.json.data.claim_number }}\nê³ ê°ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.customer_name }}\nì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}\nì²­êµ¬ê¸ˆì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.total_medical_expense.toLocaleString() }}ì›\n\nğŸ”´ ì‚¬ê¸°ì ìˆ˜: {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }}ì  (HIGH)\n\níƒì§€ëœ íŒ¨í„´:\n{{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.detectedPatterns.map(p => 'â€¢ ' + p.name + ': ' + p.description).join('\\n') }}\n\níŒ€ì¥+ë¶€ì¥ ê²°ì¬ í•„ìš”\nê²°ì¬ ë°”ë¡œê°€ê¸°: http://localhost:3001/approvals",
        "otherOptions": {}
      },
      "id": "slack-high-risk",
      "name": "ğŸ“± Slack ì•Œë¦¼ (ê³ ìœ„í—˜)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [4240, 220],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-fraud-alert",
        "text": "=ğŸš” *SIU ì¡°ì‚¬ ì˜ë¢°*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (CRITICAL)').item.json.data.claim_number }}\nê³ ê°ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.customer_name }}\n\nğŸ”´ğŸ”´ ì‚¬ê¸°ì ìˆ˜: {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }}ì  (CRITICAL)\n\níƒì§€ëœ íŒ¨í„´:\n{{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.detectedPatterns.map(p => 'â€¢ ' + p.name + ' (+' + p.score + 'ì ): ' + p.description).join('\\n') }}\n\nâš ï¸ ì¦‰ì‹œ SIUíŒ€ ì¡°ì‚¬ ì°©ìˆ˜ í•„ìš”\n\n@here @siu-team",
        "otherOptions": {}
      },
      "id": "slack-siu",
      "name": "ğŸ“± Slack ì•Œë¦¼ (SIU)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [4240, 380],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "fromEmail": "claims@insurtech.co.kr",
        "toEmail": "={{ $('ğŸ“‹ ë³´í—˜ì¦ê¶Œ ì¡°íšŒ').item.json.data.customer.email }}",
        "subject": "=ë³´í—˜ê¸ˆ ì²­êµ¬ ì ‘ìˆ˜ ì™„ë£Œ - {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)').item.json.data.claim_number }}",
        "emailType": "html",
        "html": "=<h2>ë³´í—˜ê¸ˆ ì²­êµ¬ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤</h2>\n<p>ì•ˆë…•í•˜ì„¸ìš”, {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.customer_name }}ë‹˜</p>\n<p>ê·€í•˜ì˜ ë³´í—˜ê¸ˆ ì²­êµ¬ê°€ ì •ìƒì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì–´ ìë™ ì‹¬ì‚¬ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<h3>ì²­êµ¬ ì •ë³´</h3>\n<ul>\n<li>ì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)').item.json.data.claim_number }}</li>\n<li>ì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}</li>\n<li>ì§„ë‹¨ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.diagnosis_name }}</li>\n<li>ì²­êµ¬ê¸ˆì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.total_medical_expense.toLocaleString() }}ì›</li>\n<li><strong>ìŠ¹ì¸ê¸ˆì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved.toLocaleString() }}ì›</strong></li>\n</ul>\n<p>ìŠ¹ì¸ëœ ê¸ˆì•¡ì€ ì˜ì—…ì¼ ê¸°ì¤€ 3ì¼ ì´ë‚´ì— ë“±ë¡ëœ ê³„ì¢Œë¡œ ì…ê¸ˆë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>\n<p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>",
        "options": {}
      },
      "id": "email-customer-approved",
      "name": "ğŸ“§ ê³ ê° ë©”ì¼ (ìŠ¹ì¸)",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [4480, -100],
      "credentials": {
        "smtp": {
          "id": "smtp-config",
          "name": "SMTP"
        }
      }
    },
    {
      "parameters": {
        "fromEmail": "claims@insurtech.co.kr",
        "toEmail": "={{ $('ğŸ“‹ ë³´í—˜ì¦ê¶Œ ì¡°íšŒ').item.json.data.customer.email }}",
        "subject": "=ë³´í—˜ê¸ˆ ì²­êµ¬ ì ‘ìˆ˜ ì™„ë£Œ - {{ $json.data.claim_number }}",
        "emailType": "html",
        "html": "=<h2>ë³´í—˜ê¸ˆ ì²­êµ¬ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤</h2>\n<p>ì•ˆë…•í•˜ì„¸ìš”, {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.customer_name }}ë‹˜</p>\n<p>ê·€í•˜ì˜ ë³´í—˜ê¸ˆ ì²­êµ¬ê°€ ì •ìƒì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>í˜„ì¬ ë‹´ë‹¹ì ê²€í†  ì¤‘ì´ë©°, ì²˜ë¦¬ ì™„ë£Œ ì‹œ ë³„ë„ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>\n<hr>\n<h3>ì²­êµ¬ ì •ë³´</h3>\n<ul>\n<li>ì²­êµ¬ë²ˆí˜¸: {{ $json.data.claim_number }}</li>\n<li>ì²­êµ¬ìœ í˜•: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.claim_type }}</li>\n<li>ì§„ë‹¨ëª…: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.diagnosis_name }}</li>\n<li>ì²­êµ¬ê¸ˆì•¡: {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.claim.total_medical_expense.toLocaleString() }}ì›</li>\n</ul>\n<p>ì²˜ë¦¬ ê¸°ê°„: ì˜ì—…ì¼ ê¸°ì¤€ ì•½ 3-5ì¼ ì†Œìš” ì˜ˆì •</p>\n<p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>",
        "options": {}
      },
      "id": "email-customer-pending",
      "name": "ğŸ“§ ê³ ê° ë©”ì¼ (ì ‘ìˆ˜)",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [4480, 140],
      "credentials": {
        "smtp": {
          "id": "smtp-config",
          "name": "SMTP"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ì²­êµ¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì–´ ìë™ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.\",\n  \"data\": {\n    \"claimId\": {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)').item.json.data.id }},\n    \"claimNumber\": \"{{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)').item.json.data.claim_number }}\",\n    \"status\": \"APPROVED\",\n    \"approvedAmount\": {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved }},\n    \"aiConfidence\": {{ $('ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ').item.json.confidenceScore }},\n    \"fraudScore\": {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }},\n    \"riskLevel\": \"LOW\"\n  }\n}",
        "options": {}
      },
      "id": "response-approved",
      "name": "ğŸ“¤ ì‘ë‹µ (ìŠ¹ì¸)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [4720, -100]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ì²­êµ¬ê°€ ì ‘ìˆ˜ë˜ì–´ ê²€í†  ì¤‘ì…ë‹ˆë‹¤.\",\n  \"data\": {\n    \"claimId\": {{ $json.data.id }},\n    \"claimNumber\": \"{{ $json.data.claim_number }}\",\n    \"status\": \"PENDING\",\n    \"estimatedAmount\": {{ $('ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°').item.json.totalApproved }},\n    \"aiConfidence\": {{ $('ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ').item.json.confidenceScore }},\n    \"fraudScore\": {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }},\n    \"riskLevel\": \"{{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.riskLevel }}\",\n    \"nextStep\": \"ë‹´ë‹¹ì ê²€í†  í›„ ê²°ê³¼ ì•ˆë‚´ ì˜ˆì •\"\n  }\n}",
        "options": {}
      },
      "id": "response-pending",
      "name": "ğŸ“¤ ì‘ë‹µ (ê²€í† ì¤‘)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [4720, 140]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ì²­êµ¬ê°€ ì ‘ìˆ˜ë˜ì—ˆìœ¼ë‚˜ ì¶”ê°€ ì¡°ì‚¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.\",\n  \"data\": {\n    \"claimId\": {{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (CRITICAL)').item.json.data.id }},\n    \"claimNumber\": \"{{ $('ğŸ’¾ ì²­êµ¬ ì €ì¥ (CRITICAL)').item.json.data.claim_number }}\",\n    \"status\": \"UNDER_INVESTIGATION\",\n    \"fraudScore\": {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }},\n    \"riskLevel\": \"CRITICAL\",\n    \"nextStep\": \"ì¡°ì‚¬íŒ€ì—ì„œ ì—°ë½ ì˜ˆì •\"\n  }\n}",
        "options": {}
      },
      "id": "response-investigation",
      "name": "ğŸ“¤ ì‘ë‹µ (ì¡°ì‚¬ì¤‘)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [4720, 380]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": false,\n  \"message\": \"ì…ë ¥ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨\",\n  \"errors\": {{ JSON.stringify($json.errors) }}\n}",
        "options": {
          "responseCode": 400
        }
      },
      "id": "response-validation-error",
      "name": "âŒ ì‘ë‹µ (ê²€ì¦ì‹¤íŒ¨)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [660, 400]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": false,\n  \"message\": \"ë³´í—˜ì¦ê¶Œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n  \"error\": \"POLICY_NOT_FOUND\"\n}",
        "options": {
          "responseCode": 404
        }
      },
      "id": "response-policy-error",
      "name": "âŒ ì‘ë‹µ (ì¦ê¶Œì—†ìŒ)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [1320, 300]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": false,\n  \"message\": \"ë³´í—˜ ì •ì±… ê²€ì¦ ì‹¤íŒ¨\",\n  \"issues\": {{ JSON.stringify($json.issues) }}\n}",
        "options": {
          "responseCode": 400
        }
      },
      "id": "response-policy-invalid",
      "name": "âŒ ì‘ë‹µ (ì •ì±…ì˜¤ë¥˜)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [1760, 400]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/audit",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"entityType\": \"CLAIM\",\n  \"entityId\": {{ $json.data?.id || 0 }},\n  \"action\": \"CREATE\",\n  \"userId\": 1,\n  \"details\": {\n    \"source\": \"n8n-workflow\",\n    \"workflowName\": \"ë³´í—˜ê¸ˆ ì²­êµ¬ ìë™ì‹¬ì‚¬\",\n    \"aiModels\": [\"GPT-4o\", \"Claude\", \"Gemini\"],\n    \"fraudScore\": {{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.totalScore }},\n    \"riskLevel\": \"{{ $('ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„').item.json.fraudDetection.riskLevel }}\",\n    \"aiRecommendation\": \"{{ $('ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ').item.json.finalRecommendation }}\"\n  }\n}",
        "options": {}
      },
      "id": "audit-log",
      "name": "ğŸ“ ê°ì‚¬ ë¡œê·¸ ì €ì¥",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [4480, 300],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    }
  ],
  "connections": {
    "ğŸ“¥ ì²­êµ¬ ì ‘ìˆ˜ Webhook": {
      "main": [
        [
          {
            "node": "âœ… ì…ë ¥ ë°ì´í„° ê²€ì¦",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… ì…ë ¥ ë°ì´í„° ê²€ì¦": {
      "main": [
        [
          {
            "node": "ğŸ”€ ìœ íš¨ì„± ì²´í¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ìœ íš¨ì„± ì²´í¬": {
      "main": [
        [
          {
            "node": "ğŸ” ì‹œìŠ¤í…œ ë¡œê·¸ì¸",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "âŒ ì‘ë‹µ (ê²€ì¦ì‹¤íŒ¨)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” ì‹œìŠ¤í…œ ë¡œê·¸ì¸": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ë³´í—˜ì¦ê¶Œ ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ë³´í—˜ì¦ê¶Œ ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ”€ ì¦ê¶Œ ì¡´ì¬ í™•ì¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ì¦ê¶Œ ì¡´ì¬ í™•ì¸": {
      "main": [
        [
          {
            "node": "ğŸ” ì •ì±… ìœ íš¨ì„± ë¶„ì„",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "âŒ ì‘ë‹µ (ì¦ê¶Œì—†ìŒ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” ì •ì±… ìœ íš¨ì„± ë¶„ì„": {
      "main": [
        [
          {
            "node": "ğŸ”€ ì •ì±… ìœ íš¨?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ì •ì±… ìœ íš¨?": {
      "main": [
        [
          {
            "node": "ğŸ’° ë‹´ë³´ ëª©ë¡ ì¡°íšŒ",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“– ì•½ê´€ ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "âŒ ì‘ë‹µ (ì •ì±…ì˜¤ë¥˜)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’° ë‹´ë³´ ëª©ë¡ ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ”— ì •ì±… ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“– ì•½ê´€ ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ”— ì •ì±… ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "ğŸ”— ì •ì±… ë°ì´í„° ë³‘í•©": {
      "main": [
        [
          {
            "node": "ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“Š ë‹´ë³´ ë¶„ì„ ë° ê³„ì‚°": {
      "main": [
        [
          {
            "node": "âš¡ AI ë³‘ë ¬ ì²˜ë¦¬ ì‹œì‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âš¡ AI ë³‘ë ¬ ì²˜ë¦¬ ì‹œì‘": {
      "main": [
        [
          {
            "node": "ğŸ¤– GPT-4o ì‹¬ì‚¬",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ¤– Claude ì‹¬ì‚¬",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ¤– Gemini ì‹¬ì‚¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¤– GPT-4o ì‹¬ì‚¬": {
      "main": [
        [
          {
            "node": "ğŸ”— AI ê²°ê³¼ ë³‘í•©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¤– Claude ì‹¬ì‚¬": {
      "main": [
        [
          {
            "node": "ğŸ”— AI ê²°ê³¼ ë³‘í•©",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "ğŸ¤– Gemini ì‹¬ì‚¬": {
      "main": [
        [
          {
            "node": "ğŸ”— AI ê²°ê³¼ ë³‘í•©",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "ğŸ”— AI ê²°ê³¼ ë³‘í•©": {
      "main": [
        [
          {
            "node": "ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ—³ï¸ ì•™ìƒë¸” íˆ¬í‘œ": {
      "main": [
        [
          {
            "node": "ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸš¨ ì‚¬ê¸° íƒì§€ ë¶„ì„": {
      "main": [
        [
          {
            "node": "ğŸ”€ ìœ„í—˜ë„ë³„ ë¶„ê¸°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ìœ„í—˜ë„ë³„ ë¶„ê¸°": {
      "main": [
        [
          {
            "node": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (MEDIUM)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (HIGH)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ’¾ ì²­êµ¬ ì €ì¥ (CRITICAL)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ì²­êµ¬ ì €ì¥ (LOW)": {
      "main": [
        [
          {
            "node": "âœ… ìë™ìŠ¹ì¸ ê²°ì¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ì²­êµ¬ ì €ì¥ (MEDIUM)": {
      "main": [
        [
          {
            "node": "ğŸ‘¤ íŒ€ì¥ ê²°ì¬ ì‹œì‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ì²­êµ¬ ì €ì¥ (HIGH)": {
      "main": [
        [
          {
            "node": "ğŸ‘¥ íŒ€ì¥+ë¶€ì¥ ê²°ì¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’¾ ì²­êµ¬ ì €ì¥ (CRITICAL)": {
      "main": [
        [
          {
            "node": "ğŸš” SIU ì¡°ì‚¬ ì˜ë¢°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… ìë™ìŠ¹ì¸ ê²°ì¬": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack ì•Œë¦¼ (ìŠ¹ì¸)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¤ íŒ€ì¥ ê²°ì¬ ì‹œì‘": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack ì•Œë¦¼ (ê²€í† )",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“§ ê³ ê° ë©”ì¼ (ì ‘ìˆ˜)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¥ íŒ€ì¥+ë¶€ì¥ ê²°ì¬": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack ì•Œë¦¼ (ê³ ìœ„í—˜)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“§ ê³ ê° ë©”ì¼ (ì ‘ìˆ˜)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸ ì €ì¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸš” SIU ì¡°ì‚¬ ì˜ë¢°": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack ì•Œë¦¼ (SIU)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸ ì €ì¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack ì•Œë¦¼ (ìŠ¹ì¸)": {
      "main": [
        [
          {
            "node": "ğŸ“§ ê³ ê° ë©”ì¼ (ìŠ¹ì¸)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ ê³ ê° ë©”ì¼ (ìŠ¹ì¸)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ìŠ¹ì¸)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack ì•Œë¦¼ (ê²€í† )": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ê²€í† ì¤‘)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack ì•Œë¦¼ (ê³ ìœ„í—˜)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ê²€í† ì¤‘)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack ì•Œë¦¼ (SIU)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ì¡°ì‚¬ì¤‘)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "1",
  "meta": {
    "instanceId": "insurtech-n8n"
  },
  "tags": [
    {
      "name": "ë³´í—˜",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    },
    {
      "name": "ì²­êµ¬ì‹¬ì‚¬",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    },
    {
      "name": "AI",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  ]
}
