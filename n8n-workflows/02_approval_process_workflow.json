{
  "name": "ğŸ“ ê²°ì¬ í”„ë¡œì„¸ìŠ¤ ì›Œí¬í”Œë¡œìš°",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "approvals/process",
        "options": {}
      },
      "id": "webhook-approval",
      "name": "ğŸ“¥ ê²°ì¬ ìš”ì²­ ìˆ˜ì‹ ",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [0, 300],
      "webhookId": "approval-process-webhook"
    },
    {
      "parameters": {
        "jsCode": "// ê²°ì¬ ìš”ì²­ ë°ì´í„° ê²€ì¦\nconst request = $input.first().json.body;\nconst headers = $input.first().json.headers;\n\nconst errors = [];\n\n// í•„ìˆ˜ í•„ë“œ ê²€ì¦\nif (!request.approvalId) errors.push('approvalId í•„ìˆ˜');\nif (!request.action) errors.push('action í•„ìˆ˜');\n\n// action ìœ íš¨ì„±\nconst validActions = ['APPROVE', 'REJECT', 'RETURN', 'HOLD', 'DELEGATE', 'SKIP'];\nif (request.action && !validActions.includes(request.action)) {\n  errors.push(`ìœ íš¨í•˜ì§€ ì•Šì€ action: ${request.action}`);\n}\n\n// REJECT, RETURN ì‹œ ì‚¬ìœ  í•„ìˆ˜\nif (['REJECT', 'RETURN'].includes(request.action) && !request.reason) {\n  errors.push('ê±°ì ˆ/ë°˜ë ¤ ì‹œ ì‚¬ìœ  í•„ìˆ˜');\n}\n\n// DELEGATE ì‹œ ëŒ€ìƒì í•„ìˆ˜\nif (request.action === 'DELEGATE' && !request.delegateTo) {\n  errors.push('ìœ„ì„ ì‹œ ëŒ€ìƒì í•„ìˆ˜');\n}\n\n// JWT í† í° ì¶”ì¶œ\nconst authHeader = headers.authorization || headers.Authorization;\nconst token = authHeader ? authHeader.replace('Bearer ', '') : null;\n\nreturn {\n  isValid: errors.length === 0,\n  errors: errors,\n  request: request,\n  token: token,\n  receivedAt: new Date().toISOString()\n};"
      },
      "id": "validate-approval",
      "name": "âœ… ê²°ì¬ ìš”ì²­ ê²€ì¦",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [220, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "valid-check",
              "leftValue": "={{ $json.isValid }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-valid",
      "name": "ğŸ”€ ìœ íš¨ì„± ì²´í¬",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [440, 300]
    },
    {
      "parameters": {
        "method": "GET",
        "url": "http://insurtech-api:3000/api/auth/me",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-user",
      "name": "ğŸ‘¤ ê²°ì¬ì ì •ë³´ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [660, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('âœ… ê²°ì¬ ìš”ì²­ ê²€ì¦').item.json.request.approvalId }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-approval",
      "name": "ğŸ“‹ ê²°ì¬ ì •ë³´ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [880, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/claims/{{ $json.data.claim_id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-claim",
      "name": "ğŸ“„ ì²­êµ¬ ì •ë³´ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1100, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ê²°ì¬ ê¶Œí•œ ê²€ì¦\nconst user = $('ğŸ‘¤ ê²°ì¬ì ì •ë³´ ì¡°íšŒ').item.json.data;\nconst approval = $('ğŸ“‹ ê²°ì¬ ì •ë³´ ì¡°íšŒ').item.json.data;\nconst claim = $('ğŸ“„ ì²­êµ¬ ì •ë³´ ì¡°íšŒ').item.json.data;\nconst request = $('âœ… ê²°ì¬ ìš”ì²­ ê²€ì¦').item.json.request;\n\nconst issues = [];\nlet hasAuthority = true;\n\n// 1. í˜„ì¬ ê²°ì¬ ë‹¨ê³„ì˜ ê²°ì¬ìì¸ì§€ í™•ì¸\nconst currentStep = approval.current_step;\nconst myInbox = approval.inbox?.find(i => \n  i.user_id === user.id && \n  i.step_no === currentStep &&\n  i.status === 'PENDING'\n);\n\nif (!myInbox) {\n  issues.push('í˜„ì¬ ë‹¨ê³„ì˜ ê²°ì¬ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤');\n  hasAuthority = false;\n}\n\n// 2. ê²°ì¬ í•œë„ í™•ì¸\nif (request.action === 'APPROVE' && claim.total_approved > user.approvalLimit) {\n  issues.push(`ê²°ì¬ í•œë„ ì´ˆê³¼ (í•œë„: ${user.approvalLimit.toLocaleString()}ì›, ì²­êµ¬ì•¡: ${claim.total_approved.toLocaleString()}ì›)`);\n  hasAuthority = false;\n}\n\n// 3. ê²°ì¬ ìƒíƒœ í™•ì¸\nif (approval.status !== 'IN_PROGRESS') {\n  issues.push(`ê²°ì¬ ìƒíƒœ ì´ìƒ: ${approval.status}`);\n  hasAuthority = false;\n}\n\n// 4. ì—­í•  ë ˆë²¨ í™•ì¸\nconst requiredLevel = approval.steps?.[currentStep - 1]?.required_role_level || 1;\nif (user.roleLevel < requiredLevel) {\n  issues.push(`ì—­í•  ë ˆë²¨ ë¶€ì¡± (í•„ìš”: ${requiredLevel}, í˜„ì¬: ${user.roleLevel})`);\n  hasAuthority = false;\n}\n\nreturn {\n  hasAuthority: hasAuthority,\n  issues: issues,\n  user: user,\n  approval: approval,\n  claim: claim,\n  request: request,\n  currentStep: currentStep,\n  totalSteps: approval.total_steps,\n  isLastStep: currentStep === approval.total_steps\n};"
      },
      "id": "check-authority",
      "name": "ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1320, 200]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "authority-check",
              "leftValue": "={{ $json.hasAuthority }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-authorized",
      "name": "ğŸ”€ ê¶Œí•œ í™•ì¸",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1540, 200]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.request.action }}",
                    "rightValue": "APPROVE",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "APPROVE"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.request.action }}",
                    "rightValue": "REJECT",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "REJECT"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.request.action }}",
                    "rightValue": "RETURN",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "RETURN"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.request.action }}",
                    "rightValue": "HOLD",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "HOLD"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.request.action }}",
                    "rightValue": "DELEGATE",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "DELEGATE"
            }
          ]
        },
        "options": {}
      },
      "id": "switch-action",
      "name": "ğŸ”€ ê²°ì¬ ì•¡ì…˜ ë¶„ê¸°",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [1760, 200]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "is-last-step",
              "leftValue": "={{ $json.isLastStep }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-last-step",
      "name": "ğŸ”€ ìµœì¢… ë‹¨ê³„?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [2000, 0]
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}/step/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"APPROVED\",\n  \"processedBy\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"comment\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.comment || 'ìŠ¹ì¸' }}\",\n  \"processedAt\": \"{{ new Date().toISOString() }}\"\n}",
        "options": {}
      },
      "id": "approve-step",
      "name": "âœ… í˜„ì¬ ë‹¨ê³„ ìŠ¹ì¸",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2220, -100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/claims/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"APPROVED\",\n  \"approved_amount\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.total_approved }},\n  \"approved_by\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"approved_at\": \"{{ new Date().toISOString() }}\"\n}",
        "options": {}
      },
      "id": "final-approve-claim",
      "name": "ğŸ‰ ìµœì¢… ìŠ¹ì¸ ì²˜ë¦¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2440, -100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"APPROVED\",\n  \"completedAt\": \"{{ new Date().toISOString() }}\"\n}",
        "options": {}
      },
      "id": "complete-approval",
      "name": "ğŸ“‹ ê²°ì¬ ì™„ë£Œ ì²˜ë¦¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2660, -100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}/next-step",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"currentStep\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep }},\n  \"processedBy\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"comment\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.comment || 'ìŠ¹ì¸ - ë‹¤ìŒ ë‹¨ê³„ë¡œ' }}\"\n}",
        "options": {}
      },
      "id": "next-step",
      "name": "â¡ï¸ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2220, 100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/auth/approvers?roleLevel={{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.steps[$('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep].required_role_level }}&team={{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.team }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-next-approver",
      "name": "ğŸ‘¤ ë‹¤ìŒ ê²°ì¬ì ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2440, 100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}/assign",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"userId\": {{ $json.data[0]?.id || 0 }},\n  \"stepNo\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep + 1 }}\n}",
        "options": {}
      },
      "id": "assign-next",
      "name": "ğŸ“¨ ë‹¤ìŒ ê²°ì¬ì ë°°ì •",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2660, 100],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/claims/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"REJECTED\",\n  \"rejected_reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\",\n  \"rejected_by\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"rejected_at\": \"{{ new Date().toISOString() }}\"\n}",
        "options": {}
      },
      "id": "reject-claim",
      "name": "âŒ ì²­êµ¬ ê±°ì ˆ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2000, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"REJECTED\",\n  \"rejectedReason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\",\n  \"completedAt\": \"{{ new Date().toISOString() }}\"\n}",
        "options": {}
      },
      "id": "reject-approval",
      "name": "ğŸ“‹ ê²°ì¬ ê±°ì ˆ ì²˜ë¦¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2220, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/claims/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"RETURNED\",\n  \"return_reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\",\n  \"returned_by\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }}\n}",
        "options": {}
      },
      "id": "return-claim",
      "name": "â†©ï¸ ì²­êµ¬ ë°˜ë ¤",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2000, 320],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"RETURNED\",\n  \"returnReason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\",\n  \"current_step\": 1\n}",
        "options": {}
      },
      "id": "return-approval",
      "name": "ğŸ“‹ ê²°ì¬ ë°˜ë ¤ ì²˜ë¦¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2220, 320],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"status\": \"HOLD\",\n  \"holdReason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason || 'ì¶”ê°€ ì„œë¥˜ í•„ìš”' }}\"\n}",
        "options": {}
      },
      "id": "hold-approval",
      "name": "â¸ï¸ ê²°ì¬ ë³´ë¥˜",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2000, 440],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://insurtech-api:3000/api/documents/request-additional",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"claimId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.id }},\n  \"requestedBy\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"documents\": {{ JSON.stringify($('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.requiredDocuments || ['ê¸°íƒ€ ì¦ë¹™ì„œë¥˜']) }},\n  \"reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason || 'ì¶”ê°€ ì„œë¥˜ í•„ìš”' }}\"\n}",
        "options": {}
      },
      "id": "request-documents",
      "name": "ğŸ“ ì¶”ê°€ ì„œë¥˜ ìš”ì²­",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2220, 440],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=http://insurtech-api:3000/api/auth/users/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.delegateTo }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "get-delegate-user",
      "name": "ğŸ‘¤ ìœ„ì„ ëŒ€ìƒì ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2000, 560],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=http://insurtech-api:3000/api/approvals/{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }}/delegate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"fromUserId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"toUserId\": {{ $json.data.id }},\n  \"stepNo\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep }},\n  \"reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason || 'ì—…ë¬´ ìœ„ì„' }}\"\n}",
        "options": {}
      },
      "id": "delegate-approval",
      "name": "ğŸ”„ ê²°ì¬ ìœ„ì„",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2220, 560],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://insurtech-api:3000/api/audit",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"entityType\": \"APPROVAL\",\n  \"entityId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n  \"action\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.action }}\",\n  \"userId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.id }},\n  \"details\": {\n    \"claimId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.id }},\n    \"claimNumber\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\",\n    \"step\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep }},\n    \"action\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.action }}\",\n    \"comment\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.comment || '' }}\",\n    \"reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason || '' }}\"\n  }\n}",
        "options": {}
      },
      "id": "audit-log",
      "name": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2880, 200],
      "credentials": {
        "httpHeaderAuth": {
          "id": "jwt-token",
          "name": "JWT Token"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=ğŸ‰ *ì²­êµ¬ ìµœì¢… ìŠ¹ì¸*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\nê³ ê°ëª…: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.customer_name }}\nìŠ¹ì¸ê¸ˆì•¡: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.total_approved.toLocaleString() }}ì›\n\nìµœì¢… ê²°ì¬ì: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.name }} ({{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.position }})\nê²°ì¬ ì™„ë£Œ: {{ new Date().toLocaleString('ko-KR') }}",
        "otherOptions": {}
      },
      "id": "slack-final-approved",
      "name": "ğŸ“± Slack (ìµœì¢…ìŠ¹ì¸)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [2880, -100],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=â¡ï¸ *ë‹¤ìŒ ê²°ì¬ ë‹¨ê³„*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\ní˜„ì¬ ë‹¨ê³„: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep }} / {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.totalSteps }}\n\nìŠ¹ì¸ì: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.name }}\në‹¤ìŒ ê²°ì¬ì: {{ $json.data?.[0]?.name || 'TBD' }}\n\nê²°ì¬ ë°”ë¡œê°€ê¸°: http://localhost:3001/approvals",
        "otherOptions": {}
      },
      "id": "slack-next-step",
      "name": "ğŸ“± Slack (ë‹¤ìŒë‹¨ê³„)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [2880, 100],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=âŒ *ì²­êµ¬ ê±°ì ˆ*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\nê³ ê°ëª…: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.customer_name }}\n\nê±°ì ˆ ì‚¬ìœ : {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\nì²˜ë¦¬ì: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.name }}",
        "otherOptions": {}
      },
      "id": "slack-rejected",
      "name": "ğŸ“± Slack (ê±°ì ˆ)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [2440, 200],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=â†©ï¸ *ì²­êµ¬ ë°˜ë ¤ (ìˆ˜ì • ìš”ì²­)*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\n\në°˜ë ¤ ì‚¬ìœ : {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\nì²˜ë¦¬ì: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.name }}\n\nìˆ˜ì • í›„ ì¬ì œì¶œ í•„ìš”",
        "otherOptions": {}
      },
      "id": "slack-returned",
      "name": "ğŸ“± Slack (ë°˜ë ¤)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [2440, 320],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=â¸ï¸ *ê²°ì¬ ë³´ë¥˜*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\n\në³´ë¥˜ ì‚¬ìœ : {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\nì¶”ê°€ í•„ìš” ì„œë¥˜: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.requiredDocuments?.join(', ') || 'ë³„ë„ ì•ˆë‚´' }}\n\nì²˜ë¦¬ì: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.name }}",
        "otherOptions": {}
      },
      "id": "slack-hold",
      "name": "ğŸ“± Slack (ë³´ë¥˜)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [2440, 440],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "channel": "#insurance-claims",
        "text": "=ğŸ”„ *ê²°ì¬ ìœ„ì„*\n\nì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}\n\nìœ„ì„ì: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.user.name }}\nìˆ˜ì„ì: {{ $json.data.name }}\nì‚¬ìœ : {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason || 'ì—…ë¬´ ìœ„ì„' }}",
        "otherOptions": {}
      },
      "id": "slack-delegated",
      "name": "ğŸ“± Slack (ìœ„ì„)",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.2,
      "position": [2440, 560],
      "credentials": {
        "slackApi": {
          "id": "slack-bot",
          "name": "Slack Bot"
        }
      }
    },
    {
      "parameters": {
        "fromEmail": "claims@insurtech.co.kr",
        "toEmail": "={{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.customer_email }}",
        "subject": "=ë³´í—˜ê¸ˆ ì²­êµ¬ ìŠ¹ì¸ ì™„ë£Œ - {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}",
        "emailType": "html",
        "html": "=<h2>ğŸ‰ ë³´í—˜ê¸ˆ ì²­êµ¬ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤</h2>\n<p>ì•ˆë…•í•˜ì„¸ìš”, {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.customer_name }}ë‹˜</p>\n<p>ê·€í•˜ì˜ ë³´í—˜ê¸ˆ ì²­êµ¬ê°€ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<h3>ìŠ¹ì¸ ì •ë³´</h3>\n<ul>\n<li>ì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}</li>\n<li>ì²­êµ¬ê¸ˆì•¡: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.total_medical_expense.toLocaleString() }}ì›</li>\n<li><strong>ìŠ¹ì¸ê¸ˆì•¡: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.total_approved.toLocaleString() }}ì›</strong></li>\n</ul>\n<p>ìŠ¹ì¸ëœ ê¸ˆì•¡ì€ <strong>ì˜ì—…ì¼ ê¸°ì¤€ 3ì¼ ì´ë‚´</strong>ì— ë“±ë¡ëœ ê³„ì¢Œë¡œ ì…ê¸ˆë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>\n<p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>",
        "options": {}
      },
      "id": "email-approved",
      "name": "ğŸ“§ ê³ ê° ë©”ì¼ (ìŠ¹ì¸)",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [3100, -100],
      "credentials": {
        "smtp": {
          "id": "smtp-config",
          "name": "SMTP"
        }
      }
    },
    {
      "parameters": {
        "fromEmail": "claims@insurtech.co.kr",
        "toEmail": "={{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.customer_email }}",
        "subject": "=ë³´í—˜ê¸ˆ ì²­êµ¬ ê±°ì ˆ ì•ˆë‚´ - {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}",
        "emailType": "html",
        "html": "=<h2>ë³´í—˜ê¸ˆ ì²­êµ¬ ê²°ê³¼ ì•ˆë‚´</h2>\n<p>ì•ˆë…•í•˜ì„¸ìš”, {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.customer_name }}ë‹˜</p>\n<p>ê·€í•˜ì˜ ë³´í—˜ê¸ˆ ì²­êµ¬ì— ëŒ€í•´ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.</p>\n<hr>\n<h3>ì²­êµ¬ ì •ë³´</h3>\n<ul>\n<li>ì²­êµ¬ë²ˆí˜¸: {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.claim.claim_number }}</li>\n<li>ê²°ê³¼: <strong>ê±°ì ˆ</strong></li>\n<li>ì‚¬ìœ : {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}</li>\n</ul>\n<p>ì´ì˜ê°€ ìˆìœ¼ì‹œë©´ ê³ ê°ì„¼í„°(1588-0000)ë¡œ ì—°ë½ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>\n<p>ê°ì‚¬í•©ë‹ˆë‹¤.</p>",
        "options": {}
      },
      "id": "email-rejected",
      "name": "ğŸ“§ ê³ ê° ë©”ì¼ (ê±°ì ˆ)",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [2660, 200],
      "credentials": {
        "smtp": {
          "id": "smtp-config",
          "name": "SMTP"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ê²°ì¬ê°€ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.\",\n  \"data\": {\n    \"approvalId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n    \"action\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.action }}\",\n    \"status\": \"APPROVED\",\n    \"isFinal\": true,\n    \"processedAt\": \"{{ new Date().toISOString() }}\"\n  }\n}",
        "options": {}
      },
      "id": "response-final-approved",
      "name": "ğŸ“¤ ì‘ë‹µ (ìµœì¢…ìŠ¹ì¸)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [3320, -100]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ê²°ì¬ê°€ ì²˜ë¦¬ë˜ì–´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.\",\n  \"data\": {\n    \"approvalId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n    \"action\": \"APPROVE\",\n    \"currentStep\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.currentStep + 1 }},\n    \"totalSteps\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.totalSteps }},\n    \"nextApprover\": \"{{ $('ğŸ‘¤ ë‹¤ìŒ ê²°ì¬ì ì¡°íšŒ').item.json.data?.[0]?.name || 'TBD' }}\"\n  }\n}",
        "options": {}
      },
      "id": "response-next-step",
      "name": "ğŸ“¤ ì‘ë‹µ (ë‹¤ìŒë‹¨ê³„)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [3100, 100]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ì²­êµ¬ê°€ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.\",\n  \"data\": {\n    \"approvalId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n    \"action\": \"REJECT\",\n    \"reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\"\n  }\n}",
        "options": {}
      },
      "id": "response-rejected",
      "name": "ğŸ“¤ ì‘ë‹µ (ê±°ì ˆ)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [3100, 200]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ì²­êµ¬ê°€ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì • í›„ ì¬ì œì¶œ í•„ìš”í•©ë‹ˆë‹¤.\",\n  \"data\": {\n    \"approvalId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n    \"action\": \"RETURN\",\n    \"reason\": \"{{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.reason }}\"\n  }\n}",
        "options": {}
      },
      "id": "response-returned",
      "name": "ğŸ“¤ ì‘ë‹µ (ë°˜ë ¤)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [3100, 320]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ê²°ì¬ê°€ ë³´ë¥˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì¶”ê°€ ì„œë¥˜ ìš”ì²­ë¨.\",\n  \"data\": {\n    \"approvalId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n    \"action\": \"HOLD\",\n    \"requiredDocuments\": {{ JSON.stringify($('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.request.requiredDocuments || []) }}\n  }\n}",
        "options": {}
      },
      "id": "response-hold",
      "name": "ğŸ“¤ ì‘ë‹µ (ë³´ë¥˜)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [3100, 440]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"ê²°ì¬ê°€ ìœ„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.\",\n  \"data\": {\n    \"approvalId\": {{ $('ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦').item.json.approval.id }},\n    \"action\": \"DELEGATE\",\n    \"delegatedTo\": \"{{ $('ğŸ‘¤ ìœ„ì„ ëŒ€ìƒì ì¡°íšŒ').item.json.data.name }}\"\n  }\n}",
        "options": {}
      },
      "id": "response-delegated",
      "name": "ğŸ“¤ ì‘ë‹µ (ìœ„ì„)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [3100, 560]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": false,\n  \"message\": \"ìš”ì²­ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨\",\n  \"errors\": {{ JSON.stringify($json.errors) }}\n}",
        "options": {
          "responseCode": 400
        }
      },
      "id": "response-validation-error",
      "name": "âŒ ì‘ë‹µ (ê²€ì¦ì‹¤íŒ¨)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [660, 400]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": false,\n  \"message\": \"ê²°ì¬ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\",\n  \"issues\": {{ JSON.stringify($json.issues) }}\n}",
        "options": {
          "responseCode": 403
        }
      },
      "id": "response-no-authority",
      "name": "âŒ ì‘ë‹µ (ê¶Œí•œì—†ìŒ)",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [1760, 400]
    }
  ],
  "connections": {
    "ğŸ“¥ ê²°ì¬ ìš”ì²­ ìˆ˜ì‹ ": {
      "main": [
        [
          {
            "node": "âœ… ê²°ì¬ ìš”ì²­ ê²€ì¦",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… ê²°ì¬ ìš”ì²­ ê²€ì¦": {
      "main": [
        [
          {
            "node": "ğŸ”€ ìœ íš¨ì„± ì²´í¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ìœ íš¨ì„± ì²´í¬": {
      "main": [
        [
          {
            "node": "ğŸ‘¤ ê²°ì¬ì ì •ë³´ ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "âŒ ì‘ë‹µ (ê²€ì¦ì‹¤íŒ¨)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¤ ê²°ì¬ì ì •ë³´ ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ê²°ì¬ ì •ë³´ ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ê²°ì¬ ì •ë³´ ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ“„ ì²­êµ¬ ì •ë³´ ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“„ ì²­êµ¬ ì •ë³´ ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” ê²°ì¬ ê¶Œí•œ ê²€ì¦": {
      "main": [
        [
          {
            "node": "ğŸ”€ ê¶Œí•œ í™•ì¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ê¶Œí•œ í™•ì¸": {
      "main": [
        [
          {
            "node": "ğŸ”€ ê²°ì¬ ì•¡ì…˜ ë¶„ê¸°",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "âŒ ì‘ë‹µ (ê¶Œí•œì—†ìŒ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ê²°ì¬ ì•¡ì…˜ ë¶„ê¸°": {
      "main": [
        [
          {
            "node": "ğŸ”€ ìµœì¢… ë‹¨ê³„?",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "âŒ ì²­êµ¬ ê±°ì ˆ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "â†©ï¸ ì²­êµ¬ ë°˜ë ¤",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "â¸ï¸ ê²°ì¬ ë³´ë¥˜",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ‘¤ ìœ„ì„ ëŒ€ìƒì ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”€ ìµœì¢… ë‹¨ê³„?": {
      "main": [
        [
          {
            "node": "âœ… í˜„ì¬ ë‹¨ê³„ ìŠ¹ì¸",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "â¡ï¸ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… í˜„ì¬ ë‹¨ê³„ ìŠ¹ì¸": {
      "main": [
        [
          {
            "node": "ğŸ‰ ìµœì¢… ìŠ¹ì¸ ì²˜ë¦¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‰ ìµœì¢… ìŠ¹ì¸ ì²˜ë¦¬": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ê²°ì¬ ì™„ë£Œ ì²˜ë¦¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ê²°ì¬ ì™„ë£Œ ì²˜ë¦¬": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack (ìµœì¢…ìŠ¹ì¸)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack (ìµœì¢…ìŠ¹ì¸)": {
      "main": [
        [
          {
            "node": "ğŸ“§ ê³ ê° ë©”ì¼ (ìŠ¹ì¸)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ ê³ ê° ë©”ì¼ (ìŠ¹ì¸)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ìµœì¢…ìŠ¹ì¸)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â¡ï¸ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰": {
      "main": [
        [
          {
            "node": "ğŸ‘¤ ë‹¤ìŒ ê²°ì¬ì ì¡°íšŒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¤ ë‹¤ìŒ ê²°ì¬ì ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ“¨ ë‹¤ìŒ ê²°ì¬ì ë°°ì •",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¨ ë‹¤ìŒ ê²°ì¬ì ë°°ì •": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack (ë‹¤ìŒë‹¨ê³„)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack (ë‹¤ìŒë‹¨ê³„)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ë‹¤ìŒë‹¨ê³„)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âŒ ì²­êµ¬ ê±°ì ˆ": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ê²°ì¬ ê±°ì ˆ ì²˜ë¦¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ê²°ì¬ ê±°ì ˆ ì²˜ë¦¬": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack (ê±°ì ˆ)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack (ê±°ì ˆ)": {
      "main": [
        [
          {
            "node": "ğŸ“§ ê³ ê° ë©”ì¼ (ê±°ì ˆ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“§ ê³ ê° ë©”ì¼ (ê±°ì ˆ)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ê±°ì ˆ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â†©ï¸ ì²­êµ¬ ë°˜ë ¤": {
      "main": [
        [
          {
            "node": "ğŸ“‹ ê²°ì¬ ë°˜ë ¤ ì²˜ë¦¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ ê²°ì¬ ë°˜ë ¤ ì²˜ë¦¬": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack (ë°˜ë ¤)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack (ë°˜ë ¤)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ë°˜ë ¤)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â¸ï¸ ê²°ì¬ ë³´ë¥˜": {
      "main": [
        [
          {
            "node": "ğŸ“ ì¶”ê°€ ì„œë¥˜ ìš”ì²­",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“ ì¶”ê°€ ì„œë¥˜ ìš”ì²­": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack (ë³´ë¥˜)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack (ë³´ë¥˜)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ë³´ë¥˜)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‘¤ ìœ„ì„ ëŒ€ìƒì ì¡°íšŒ": {
      "main": [
        [
          {
            "node": "ğŸ”„ ê²°ì¬ ìœ„ì„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”„ ê²°ì¬ ìœ„ì„": {
      "main": [
        [
          {
            "node": "ğŸ“± Slack (ìœ„ì„)",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ“ ê°ì‚¬ ë¡œê·¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Slack (ìœ„ì„)": {
      "main": [
        [
          {
            "node": "ğŸ“¤ ì‘ë‹µ (ìœ„ì„)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "2",
  "meta": {
    "instanceId": "insurtech-n8n"
  },
  "tags": [
    {
      "name": "ê²°ì¬",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    },
    {
      "name": "ì›Œí¬í”Œë¡œìš°",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  ]
}
